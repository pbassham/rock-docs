
<!DOCTYPE html>



<html class="no-js">
<head><meta charset="utf-8" /><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info = {"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"35d27380d9","applicationID":"422678491","transactionName":"YQNQZBcCWkBUWxJdVlhJc2M1TEBbUFUDRxZECVFbBgxZXkBWD0BAGQpTSQoWQEAaXAlXTFsDXEQEF11cWxYHR0lO","queueTime":0,"applicationTime":130,"agent":"","atts":""}</script><script type="text/javascript">(window.NREUM||(NREUM={})).init={ajax:{deny_list:["bam.nr-data.net"]}};(window.NREUM||(NREUM={})).loader_config={licenseKey:"35d27380d9",applicationID:"422678491"};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var i=e[n]={exports:{}};t[n][0].call(i.exports,function(e){var i=t[n][1][e];return r(i||e)},i,i.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var i=0;i<n.length;i++)r(n[i]);return r}({1:[function(t,e,n){function r(){}function i(t,e,n,r){return function(){return s.recordSupportability("API/"+e+"/called"),o(t+e,[u.now()].concat(c(arguments)),n?null:this,r),n?void 0:this}}var o=t("handle"),a=t(9),c=t(10),f=t("ee").get("tracer"),u=t("loader"),s=t(4),d=NREUM;"undefined"==typeof window.newrelic&&(newrelic=d);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],l="api-",v=l+"ixn-";a(p,function(t,e){d[e]=i(l,e,!0,"api")}),d.addPageAction=i(l,"addPageAction",!0),d.setCurrentRouteName=i(l,"routeName",!0),e.exports=newrelic,d.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(t,e){var n={},r=this,i="function"==typeof e;return o(v+"tracer",[u.now(),t,n],r),function(){if(f.emit((i?"":"no-")+"fn-start",[u.now(),r,i],n),i)try{return e.apply(this,arguments)}catch(t){throw f.emit("fn-err",[arguments,this,t],n),t}finally{f.emit("fn-end",[u.now()],n)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){m[e]=i(v,e)}),newrelic.noticeError=function(t,e){"string"==typeof t&&(t=new Error(t)),s.recordSupportability("API/noticeError/called"),o("err",[t,u.now(),!1,e])}},{}],2:[function(t,e,n){function r(t){if(NREUM.init){for(var e=NREUM.init,n=t.split("."),r=0;r<n.length-1;r++)if(e=e[n[r]],"object"!=typeof e)return;return e=e[n[n.length-1]]}}e.exports={getConfiguration:r}},{}],3:[function(t,e,n){var r=!1;try{var i=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}catch(o){}e.exports=function(t){return r?{passive:!0,capture:!!t}:!!t}},{}],4:[function(t,e,n){function r(t,e){var n=[a,t,{name:t},e];return o("storeMetric",n,null,"api"),n}function i(t,e){var n=[c,t,{name:t},e];return o("storeEventMetrics",n,null,"api"),n}var o=t("handle"),a="sm",c="cm";e.exports={constants:{SUPPORTABILITY_METRIC:a,CUSTOM_METRIC:c},recordSupportability:r,recordCustom:i}},{}],5:[function(t,e,n){function r(){return c.exists&&performance.now?Math.round(performance.now()):(o=Math.max((new Date).getTime(),o))-a}function i(){return o}var o=(new Date).getTime(),a=o,c=t(11);e.exports=r,e.exports.offset=a,e.exports.getLastTimestamp=i},{}],6:[function(t,e,n){function r(t,e){var n=t.getEntries();n.forEach(function(t){"first-paint"===t.name?l("timing",["fp",Math.floor(t.startTime)]):"first-contentful-paint"===t.name&&l("timing",["fcp",Math.floor(t.startTime)])})}function i(t,e){var n=t.getEntries();if(n.length>0){var r=n[n.length-1];if(u&&u<r.startTime)return;var i=[r],o=a({});o&&i.push(o),l("lcp",i)}}function o(t){t.getEntries().forEach(function(t){t.hadRecentInput||l("cls",[t])})}function a(t){var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(e)return e.type&&(t["net-type"]=e.type),e.effectiveType&&(t["net-etype"]=e.effectiveType),e.rtt&&(t["net-rtt"]=e.rtt),e.downlink&&(t["net-dlink"]=e.downlink),t}function c(t){if(t instanceof y&&!w){var e=Math.round(t.timeStamp),n={type:t.type};a(n),e<=v.now()?n.fid=v.now()-e:e>v.offset&&e<=Date.now()?(e-=v.offset,n.fid=v.now()-e):e=v.now(),w=!0,l("timing",["fi",e,n])}}function f(t){"hidden"===t&&(u=v.now(),l("pageHide",[u]))}if(!("init"in NREUM&&"page_view_timing"in NREUM.init&&"enabled"in NREUM.init.page_view_timing&&NREUM.init.page_view_timing.enabled===!1)){var u,s,d,p,l=t("handle"),v=t("loader"),m=t(8),g=t(3),y=NREUM.o.EV;if("PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver){s=new PerformanceObserver(r);try{s.observe({entryTypes:["paint"]})}catch(h){}d=new PerformanceObserver(i);try{d.observe({entryTypes:["largest-contentful-paint"]})}catch(h){}p=new PerformanceObserver(o);try{p.observe({type:"layout-shift",buffered:!0})}catch(h){}}if("addEventListener"in document){var w=!1,b=["click","keydown","mousedown","pointerdown","touchstart"];b.forEach(function(t){document.addEventListener(t,c,g(!1))})}m(f)}},{}],7:[function(t,e,n){function r(t,e){if(!i)return!1;if(t!==i)return!1;if(!e)return!0;if(!o)return!1;for(var n=o.split("."),r=e.split("."),a=0;a<r.length;a++)if(r[a]!==n[a])return!1;return!0}var i=null,o=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var c=navigator.userAgent,f=c.match(a);f&&c.indexOf("Chrome")===-1&&c.indexOf("Chromium")===-1&&(i="Safari",o=f[1])}e.exports={agent:i,version:o,match:r}},{}],8:[function(t,e,n){function r(t){function e(){t(c&&document[c]?document[c]:document[o]?"hidden":"visible")}"addEventListener"in document&&a&&document.addEventListener(a,e,i(!1))}var i=t(3);e.exports=r;var o,a,c;"undefined"!=typeof document.hidden?(o="hidden",a="visibilitychange",c="visibilityState"):"undefined"!=typeof document.msHidden?(o="msHidden",a="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(o="webkitHidden",a="webkitvisibilitychange",c="webkitVisibilityState")},{}],9:[function(t,e,n){function r(t,e){var n=[],r="",o=0;for(r in t)i.call(t,r)&&(n[o]=e(r,t[r]),o+=1);return n}var i=Object.prototype.hasOwnProperty;e.exports=r},{}],10:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,i=n-e||0,o=Array(i<0?0:i);++r<i;)o[r]=t[e+r];return o}e.exports=r},{}],11:[function(t,e,n){e.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(t,e,n){function r(){}function i(t){function e(t){return t&&t instanceof r?t:t?u(t,f,a):a()}function n(n,r,i,o,a){if(a!==!1&&(a=!0),!l.aborted||o){t&&a&&t(n,r,i);for(var c=e(i),f=m(n),u=f.length,s=0;s<u;s++)f[s].apply(c,r);var p=d[w[n]];return p&&p.push([b,n,r,c]),c}}function o(t,e){h[t]=m(t).concat(e)}function v(t,e){var n=h[t];if(n)for(var r=0;r<n.length;r++)n[r]===e&&n.splice(r,1)}function m(t){return h[t]||[]}function g(t){return p[t]=p[t]||i(n)}function y(t,e){l.aborted||s(t,function(t,n){e=e||"feature",w[n]=e,e in d||(d[e]=[])})}var h={},w={},b={on:o,addEventListener:o,removeEventListener:v,emit:n,get:g,listeners:m,context:e,buffer:y,abort:c,aborted:!1};return b}function o(t){return u(t,f,a)}function a(){return new r}function c(){(d.api||d.feature)&&(l.aborted=!0,d=l.backlog={})}var f="nr@context",u=t("gos"),s=t(9),d={},p={},l=e.exports=i();e.exports.getOrSetContext=o,l.backlog=d},{}],gos:[function(t,e,n){function r(t,e,n){if(i.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(o){}return t[e]=r,r}var i=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){i.buffer([t],r),i.emit(t,e,n)}var i=t("ee").get("handle");e.exports=r,r.ee=i},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,o,function(){return i++})}var i=1,o="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!M++){var t=T.info=NREUM.info,e=m.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return u.abort();f(x,function(e,n){t[e]||(t[e]=n)});var n=a();c("mark",["onload",n+T.offset],null,"api"),c("timing",["load",n]);var r=m.createElement("script");0===t.agent.indexOf("http://")||0===t.agent.indexOf("https://")?r.src=t.agent:r.src=l+"://"+t.agent,e.parentNode.insertBefore(r,e)}}function i(){"complete"===m.readyState&&o()}function o(){c("mark",["domContent",a()+T.offset],null,"api")}var a=t(5),c=t("handle"),f=t(9),u=t("ee"),s=t(7),d=t(2),p=t(3),l=d.getConfiguration("ssl")===!1?"http":"https",v=window,m=v.document,g="addEventListener",y="attachEvent",h=v.XMLHttpRequest,w=h&&h.prototype,b=!1;NREUM.o={ST:setTimeout,SI:v.setImmediate,CT:clearTimeout,XHR:h,REQ:v.Request,EV:v.Event,PR:v.Promise,MO:v.MutationObserver};var E=""+location,x={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1216.min.js"},O=h&&w&&w[g]&&!/CriOS/.test(navigator.userAgent),T=e.exports={offset:a.getLastTimestamp(),now:a,origin:E,features:{},xhrWrappable:O,userAgent:s,disabled:b};if(!b){t(1),t(6),m[g]?(m[g]("DOMContentLoaded",o,p(!1)),v[g]("load",r,p(!1))):(m[y]("onreadystatechange",i),v[y]("onload",r)),c("mark",["firstbyte",a.getLastTimestamp()],null,"api");var M=0}},{}],"wrap-function":[function(t,e,n){function r(t,e){function n(e,n,r,f,u){function nrWrapper(){var o,a,s,p;try{a=this,o=d(arguments),s="function"==typeof r?r(o,a):r||{}}catch(l){i([l,"",[o,a,f],s],t)}c(n+"start",[o,a,f],s,u);try{return p=e.apply(a,o)}catch(v){throw c(n+"err",[o,a,v],s,u),v}finally{c(n+"end",[o,a,p],s,u)}}return a(e)?e:(n||(n=""),nrWrapper[p]=e,o(e,nrWrapper,t),nrWrapper)}function r(t,e,r,i,o){r||(r="");var c,f,u,s="-"===r.charAt(0);for(u=0;u<e.length;u++)f=e[u],c=t[f],a(c)||(t[f]=n(c,s?f+r:r,i,f,o))}function c(n,r,o,a){if(!v||e){var c=v;v=!0;try{t.emit(n,r,o,e,a)}catch(f){i([f,n,r,o],t)}v=c}}return t||(t=s),n.inPlace=r,n.flag=p,n}function i(t,e){e||(e=s);try{e.emit("internal-error",t)}catch(n){}}function o(t,e,n){if(Object.defineProperty&&Object.keys)try{var r=Object.keys(t);return r.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(o){i([o],n)}for(var a in t)l.call(t,a)&&(e[a]=t[a]);return e}function a(t){return!(t&&t instanceof Function&&t.apply&&!t[p])}function c(t,e){var n=e(t);return n[p]=t,o(t,n,s),n}function f(t,e,n){var r=t[e];t[e]=c(r,n)}function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;++n)e[n]=arguments[n];return e}var s=t("ee"),d=t(10),p="nr@original",l=Object.prototype.hasOwnProperty,v=!1;e.exports=r,e.exports.wrapFunction=c,e.exports.wrapInPlace=f,e.exports.argsToArray=u},{}]},{},["loader"]);</script><title>
	202 - Ignition | Rock Community
</title>

    <script src="/Scripts/Bundles/RockJQueryLatest?v=PFAGrQSbQ5701zQdYAGRCurjSyAXknQJ9oKIQ6G3T6U1"></script>

    <!-- Set the viewport width to device width for mobile -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
	<meta name="generator" content="Rock v1.16.0.8" />
	<link href="/Styles/fluidbox.css?v=637945608860000000" type="text/css" rel="stylesheet" />

  <!-- Included CSS Files -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700,900" rel="stylesheet" />
    <link rel="stylesheet" href="/Themes/RockCommunity/Styles/bootstrap.css?v=638263951396971123"/>
	<link rel="stylesheet" href="/Themes/RockCommunity/Styles/theme.css?v=638263951445565894"/>

    <script src="/Scripts/modernizr.js" ></script>
    <script src="/Themes/RockCommunity/Assets/Scripts/theme.js?v=637618953660000000" ></script>

    
	<link rel="shortcut icon" sizes="192x192" href="/GetImage.ashx?id=12754&width=192&height=192&mode=crop&format=png" />
	<link rel="apple-touch-icon-precomposed" sizes="16x16" href="/GetImage.ashx?id=12754&width=16&height=16&mode=crop&format=png" />
	<link rel="apple-touch-icon-precomposed" sizes="32x32" href="/GetImage.ashx?id=12754&width=32&height=32&mode=crop&format=png" />
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/GetImage.ashx?id=12754&width=144&height=144&mode=crop&format=png" />
	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="/GetImage.ashx?id=12754&width=180&height=180&mode=crop&format=png" />
	<link rel="apple-touch-icon-precomposed" sizes="192x192" href="/GetImage.ashx?id=12754&width=192&height=192&mode=crop&format=png" />
    <!-- BEGIN Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8SQE6JSQDP"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){window.dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-8SQE6JSQDP');
    </script>
    <!-- END Global site tag (gtag.js) - Google Analytics -->
</head>
<body id="body" data-spy="scroll" data-target="#toc">

    <form method="post" action="./content" id="form1">
<input type="hidden" name="__CVIEWSTATESIZE" id="__CVIEWSTATESIZE" value="284160" />
<input type="hidden" name="__CVIEWSTATE" id="__CVIEWSTATE" value="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" />
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="" />


<script src="/ScriptResource.axd?d=D9drwtSJ4hBA6O8UhT6CQjaDVM4_5I9VKMT4RprX_DQ7V7AxcS0WqjvyDbGaU_gtJHnRGg-cpUnhDHEuWsm-QaLQVex-WTMJwDSTfygpiehKocceHLIlrXUaVyVbYvW-WEcRdzlCX04Xc8uKgWVgxdo-quTFvSloc2VHB_jARiM1&amp;t=ffffffffaa493ab8" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
if (typeof(Sys) === 'undefined') throw new Error('ASP.NET Ajax client-side framework failed to load.');
//]]>
</script>

<script src="/Scripts/Bundles/RockLibs?v=msXCkqwxaoeS4rK1sGJE0Z8EcqFb7RnG37KxQ06anSo1" type="text/javascript"></script>
<script src="/Scripts/Bundles/RockUi?v=-gT3CEuVFt_bUsGhPX8SkCAlA6I1dUgqwin60qE7VUM1" type="text/javascript"></script>
<script src="/Scripts/Bundles/RockValidation?v=4Kvx_pR-b70eKP9hPeGzEIT-wueedEIq_kT08CTT8YE1" type="text/javascript"></script>
<script src="/Plugins/org_sparkdevnetwork/Documentation/Scripts/sticky-kit.min.js?v=637618953640000000" type="text/javascript"></script>
<script src="/Scripts/imagesloaded.min.js?v=637618953660000000" type="text/javascript"></script>
<script src="/Scripts/jquery.fluidbox.min.js?v=637957064360000000" type="text/javascript"></script>
<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="EODSK6v96TbNWCRUy5L7UrqxudPgNjutCzYIbFUZr0fN17S81p2lDq9uXBSKQSBrkSjV6Q7wv0+JSgsAMun40p1QL5S/+Pr5dABwk5TgPTr2PleGe6wh+FOM/hY/vhVEcvyf8qQ1TZwc1q2aIXvn0brpmoXvdswwzGT2F9c6ng54NXRQD5NawuRm3BZJ1klP" />
    <div id="page-container">
      <div class="community-ui">

          <!-- navigation -->
          <div class="community-sidebar">
            <div id="zone-navigation" class="zone-instance"><div class="zone-content"><div id="bid_2609" data-zone-location="Layout" class="block-instance js-block-instance page-menu">
	<div class="block-content">
		<div id="ctl00_ctl17_ctl01_ctl00_upContent">
			
    

<nav class="navbar navbar-vertical navbar-expand-lg navbar-light">
<div class="brand-container text-md-center">
    <a href="https://community.rockrms.com/" class="rock-brand"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm157.4 419.5h-90l-112-131.3c-17.9-20.4-3.9-56.1 26.6-56.1h75.3l-84.6-99.3-84.3 98.9h-90L193.5 67.2c14.4-18.4 41.3-17.3 54.5 0l157.7 185.1c19 22.8 2 57.2-27.6 56.1-.6 0-74.2.2-74.2.2l101.5 118.9z"></path></svg><div>Community</div></a>
    <button aria-expanded="false" class="collapsed navbar-toggle" type="button">
        <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
    </button>
</div>

<div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="nav flex-column navbar-side"><li data-title="Community" class="community has-children"><div>Community</div>
                        <ul class="nav nav-childpages"><li><a class="nav-link false" role="menu-item" href="https://community.rockrms.com/ask"><i class="fa fa-question-circle"></i>Q&A</a>
                                    </li><li><a class="nav-link false" role="menu-item" href="https://community.rockrms.com/recipes"><i class="fa fa-book"></i>Recipes</a>
                                    </li><li><a class="nav-link false" role="menu-item" href="https://community.rockrms.com/Ideas"><i class="fa fa-lightbulb"></i>Ideas</a>
                                    </li><li><a class="nav-link false" role="menu-item" href="https://community.rockrms.com/chat"><i class="fa fa-comments"></i>Chat</a>
                                    </li><li><a class="nav-link false" role="menu-item" href="https://community.rockrms.com/get-involved"><i class="fa fa-users"></i>Get Involved</a>
                                    </li><li><a class="nav-link false" role="menu-item" href="https://community.rockrms.com/Connect"><i class="fa fa-newspaper"></i>Blog</a>
                                    </li><li><a class="nav-link false" role="menu-item" href="https://community.rockrms.com/podcast"><i class="fa fa-volume-up"></i>Podcast</a>
                                    </li></ul></li><li data-title="Learn" class="learn current has-children"><div>Learn</div>
                        <ul class="nav nav-childpages"><li><a class="nav-link false" role="menu-item" href="https://community.rockrms.com/askchip"><i class="fa fa-comment"></i>Ask Chip</a>
                                    </li><li><a class="nav-link false" role="menu-item" href="https://community.rockrms.com/documentation"><i class="fa fa-book-open"></i>Manuals</a>
                                    </li><li><a class="nav-link false" role="menu-item" href="https://community.rockrms.com/Lava"><i class="fa fa-file-code"></i>Lava</a>
                                    </li><li><a class="nav-link false" role="menu-item" href="https://community.rockrms.com/styling"><i class="fa fa-brush"></i>Styling</a>
                                    </li><li><a class="nav-link false" role="menu-item" href="https://community.rockrms.com/rocku"><i class="fa fa-video"></i>Rock U</a>
                                    </li><li><a class="nav-link false" role="menu-item" href="https://community.rockrms.com/classes"><i class="fa fa-users-class"></i>Classes</a>
                                    </li><li><a class="nav-link false" role="menu-item" href="https://community.rockrms.com/subscriptions"><i class="fa fa-play"></i>Subscriptions</a>
                                    </li><li><a class="active false" role="menu-item" href="https://community.rockrms.com/developer"><i class="fa fa-code"></i>Developer Resources</a>
                                    </li></ul></li></ul></div>

</nav>


		</div>

	</div>
</div></div></div>
          </div>
          <!-- / navigation -->

          <!-- content -->
          <main class="community-content">
            


    
        <div id="mbb-6053" data-topbar-name="dismiss6053Topbar" data-topbar-value="dismissed" class="topbar" style="background-color:#ee7625;color:#ffffff;">
        <a href="https://community.rockrms.com/subscriptions">
            <span class="topbar-text">
  RX23 Content Subscription available to order now.
            </span>
        </a>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        </div>
    

  
          
          <div class="scroll-vertical">
            
<div class="header-row">
    <div class="col">

        <header class="community-content-header community-content-header-absolute">
            <div class="row align-items-center">
            <div class="col d-none d-md-block">
                <nav aria-label="breadcrumb" class="align-items-center">
                <!-- <a href="../../index.html" class="breadcrumb-back" title="Back"></a> -->
                <ol class="breadcrumb">
	<li class="breadcrumb-item"><a href="/page/1247" rel="rocknofollow">Rock Community</a></li><li class="breadcrumb-item"><a href="/developer" rel="rocknofollow">Developer Resources</a></li><li class="breadcrumb-item"><a href="/developer/book/17/17/content" rel="rocknofollow">Book Contents</a></li><li class="breadcrumb-item">202 - Ignition</li>
</ol>
                </nav>
            </div>
                <div class="col text-lg-right">
                    
<a href="/login?returnurl=/page/1336" class="login-link">Log In</a>
                    

                  </div>
            </div>
        </header>
    </div>
</div>

            
    <div id="zone-main" class="zone-instance zone-instance-full"><div class="zone-content"><div id="bid_2616" data-zone-location="Page" class="block-instance js-block-instance book-shelf-book-contents-v2">
	<div class="block-content">
		<div id="ctl00_main_ctl02_ctl01_ctl00_upnlContent">
			

        
        <div id="ctl00_main_ctl02_ctl01_ctl00_pnlDetails">
				       
            <div id="ctl00_main_ctl02_ctl01_ctl00_divBookContainer" class="rockversion-1-0-0">
                <div class="book-header jumbotron clearfix">
                    <div class="book margin-r-lg">
                        <div class="img-content">
                            <img id="ctl00_main_ctl02_ctl01_ctl00_imgCover" src="/GetImage.ashx?id=121&amp;width=710&amp;height=919" />
                        </div>
                    </div>

                    <h1>202 - Ignition</h1>
                    <p>There's more to Rock than Blocks.</p>

                    <div class="bookversion clearfix">
                        <div class="bookversion-heading row no-gutters">
                            <div class="col-xs-12">
                                <a id="ctl00_main_ctl02_ctl01_ctl00_hlPdf" class="btn btn-default btn-xs margin-l-md" href="https://rockrms.blob.core.windows.net/documentation/PDFs/14d090adf8b14ca5a12b8cee75c97845_202-Ignition.pdf">Download PDF</a>
                                
                            </div>
                        </div>
                        
                        <div class="bookversion-details" style="display: none;">
                            <div class="row no-gutters">
                                <div class="col-xs-12 col-sm-6 col-md-4 col-md-offset-4">
                                    
                                </div>
                                <div class="col-xs-12 col-sm-6 col-md-4">
                                    <div class="form-group rock-drop-down-list ">
					<label class="control-label" for="ctl00_main_ctl02_ctl01_ctl00_ddlBookVersions">Version</label> <div class="control-wrapper">
						<select name="ctl00$main$ctl02$ctl01$ctl00$ddlBookVersions" id="ctl00_main_ctl02_ctl01_ctl00_ddlBookVersions" class="form-control">
							<option value="17" selected="selected">McKinley 1.0</option>

						</select>
					</div>
				</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container-fluid">
                    <div class="row"><div class="col-md-12">
                        
                    </div></div>
                    <div class="row documentation-content-body">
                        <article class="col-md-9 col-xl-8">
                            <div data-type='update-summary' data-update-tag='1.0.0' class='bookversion-updatesummary alert alert-info'><h4>Updates for McKinley 1.0</h4>No updates made.</div>
            
                            <section data-type="chapter" id="more-than-blocks"><h1><a name='morethanblocks' href='#morethanblocks' class='book-link'><i class='fa fa-link'></i></a>More Than Blocks</h1>

    <p>
        There is more to Rock than blocks.  Under the covers Rock is a framework full of rich entities that let you manage people, 
        families, groups, campuses, locations, dictionary-like-lists, and much more. And if those things don't meet your needs, 
        you can even create your own custom entities within the framework too.
    </p>
    
    <p>
        In this book we'll tell you a little about the major Rock entities, and then wrap up with details you'll need to develop
        your own custom entities.  But first let's talk more about the concept of an entity.
    </p>

    <section data-type="sect1">

        <h1><a name='whatareentities' href='#whatareentities' class='book-link'><i class='fa fa-link'></i></a>What Are Entities?</h1>
        <p>
            The word "entity" is just a generic term that refers to a code class that models and manages a particular type of data.
            These classes are built on something called the <a href="https://msdn.microsoft.com/en-us/data/aa937723">Entity Framework</a> (EF).
            EF is Microsoft's recommended data access technology -- but don't worry! You do not need to know all the ins-and-outs of
            EF unless you really want to. We only mention it because some of the conventions you'll read below come from that 
            framework.  Ok, back to our story...
        </p>
        
        <div data-type="note" data-note-type="note">
            <h1>Going Deep</h1>
            <p>
                If you are new to Entity Framework and want to learn more about what's going on behind the scenes in Rock, 
                you can read the
                <a href="https://msdn.microsoft.com/en-us/ee712907">Get Started with Entity Framework</a> and/or
                the <a href="https://msdn.microsoft.com/en-us/jj729737">Working With DbContext</a> MSDN articles. 
            </p>
        </div>
        
        <p>
            Let's get real by talking specifics. And, since everyone knows what a person is, we'll use it as we describe how entities work.
        </p>
        
        <p>
            The Person <i>entity</i> is actually the <code>Person.cs</code> class. That class models the properties of a person 
            including FirstName, LastName, BirthDate, Gender, and Email just to name a few.  So, when code somewhere creates a
            new Person object and saves it, a new record is added to the database which contains all the person's property
            values... mostly.
        </p>
        
        <p>
            Some classes have <em>virtual</em> properties (such as the Person class <em data-type="reference" data-reference="reference-highlight">Age</em> property). These virtual properties 
            decorated with the [NotMapped] attribute don't actually store their values in the database.  
            Instead they are basically computed via code in a getter method as seen here:
        </p>
        
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
[NotMapped]
[DataMember]
<span style="color:Blue;">public</span> <span style="color:Blue;">virtual</span> <span style="color:Blue;">int</span>? Age
{
    <span style="color:Blue;">get</span>
    {
        <span style="color:Blue;">if</span> ( BirthYear.HasValue )
        {
            DateTime? bd = BirthDate;
            <span style="color:Blue;">if</span> ( bd.HasValue )
            {
                DateTime today = RockDateTime.Today;
                <span style="color:Blue;">int</span> age = today.Year - bd.Value.Year;
                <span style="color:Blue;">if</span> ( bd.Value &gt; today.AddYears( -age ) ) {age--};
                <span style="color:Blue;">return</span> age;
            }
        }
        <span style="color:Blue;">return</span> <span style="color:Blue;">null</span>;
    }
    <span style="color:Blue;">private</span> <span style="color:Blue;">set</span> { }
}
</pre></div>
        </div>
        
        <div data-type="note" data-note-type="note">
            <h1>Note:</h1>
            <p>
                Virtual properties are almost always decorated with the <code>[NotMapped]</code> data annotation (or C# attribute)
                which is a signal to Entity Framework to <i>not store</i> the value in the database. The <code>[DataMember]</code>
                annotation is used to tell the 
                <a href="https://docs.microsoft.com/en-us/aspnet/web-api/overview/formats-and-model-binding/json-and-xml-serialization#what-gets-serialized">framework
                to serialize these</a> properties because we've decorated our classes with the
                <code>[DataContract]</code> attribute. If this sort of thing interests you,  
                <a href="https://msdn.microsoft.com/en-us/library/system.runtime.serialization.datacontractattribute(v=vs.110).aspx">read about it</a>
                on the MSDN site.
            </p>
        </div>
        
        <p>
            Some virtual properties hold other entities or whole collections of entities.  For example, the 
            person PrimaryAlias property holds a PersonAlias entity, but the PhoneNumbers property holds a 
            <em>collection</em> of PhoneNumber entities.
        </p>

        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
[DataMember]
<span style="color:Blue;">public</span> <span style="color:Blue;">virtual</span> ICollection&lt;PhoneNumber&gt; PhoneNumbers
{
    <span style="color:Blue;">get</span> { <span style="color:Blue;">return</span> _phoneNumbers; }
    <span style="color:Blue;">set</span> { _phoneNumbers = value; }
}
<span style="color:Blue;">private</span> ICollection&lt;PhoneNumber&gt; _phoneNumbers;
</pre></div>
        </div>
        
        <p>
            For the virtual properties that are entities <em>but not collections</em>, you will see two parts.
            One property holds the entity as a "navigation property" and the other property holds the associated Id.
            Let's look at the person's Photo property. Here you see a Photo and a PhotoId property:
        </p>
        
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
[DataMember]
<span style="color:Blue;">public</span> <span style="color:Blue;">virtual</span> BinaryFile Photo { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }

[DataMember]
<span style="color:Blue;">public</span> <span style="color:Blue;">int</span>? PhotoId { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
</pre></div>
        </div>
        
        <p>
            This is very cool because <a href="https://msdn.microsoft.com/en-us/data/jj574232#lazy">EF will Lazy Load</a>
            the Photo property-entity if you need to refer to it.  In those cases, you have full access to that entity as shown here:
        </p>
        
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
<span style="color:Green;">// assuming you have a person object/instance already...</span>
<span style="color:Blue;">var</span> personPhotoFile = person.Photo.FileName;
</pre></div>
        </div>
        
        <p>
            I don't know about you, but that just makes me a little giddy inside.
        </p>

        <div data-type="note" data-note-type="note">
            <h1>Going Deep</h1>
            <p>
                While it is cool, lazy loading comes at a performance cost: meaning behind the scenes the 
                framework has to issue another database query to get the value.  So, if you know you're
                going to need it, tell the framework to eagerly pre-load your navigable object properties
                as discussed in the <a href="http://www.rockrms.com/Rock/BookContent/16#eagerloadingproperties">101 Launchpad book on Loading Entities</a>.
            </p>
        </div>
        
        <p>
            To make it work like that we had to tell EF about this relationship via a PersonConfiguration (<em>Entity</em>
            Configuration) class in our <code>Person.cs</code> class: 
        </p>
        
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
<span style="color:Gray;">///</span> <span style="color:Gray;">&lt;summary&gt;</span>
<span style="color:Gray;">///</span><span style="color:Green;"> Person Configuration class.</span>
<span style="color:Gray;">///</span> <span style="color:Gray;">&lt;/summary&gt;</span>
<span style="color:Blue;">public</span> <span style="color:Blue;">partial</span> <span style="color:Blue;">class</span> PersonConfiguration : EntityTypeConfiguration&lt;Person&gt;
{
    <span style="color:Blue;">public</span> PersonConfiguration()
    {
        <span style="color:Gray;">///</span><span style="color:Green;"> ...</span>
        <span style="color:Blue;">this</span>.HasOptional( p =&gt; p.Photo ).WithMany()
            .HasForeignKey( p =&gt; p.PhotoId ).WillCascadeOnDelete( <span style="color:Blue;">false</span> );
        <span style="color:Gray;">///</span><span style="color:Green;"> ...</span>
    }
</pre></div>
        </div>

        <div data-type="note" data-note-type="note">
            <h1>Don't Worry</h1>
            <p>
                Again, you don't really need to understand this last part unless you're creating your own 
                custom entities.  We'll cover that in the last several chapters of this book.
            </p>
        </div>
    </section>

</section>

<section data-type="chapter" id="common-entities"><h1><a name='commonentities' href='#commonentities' class='book-link'><i class='fa fa-link'></i></a>Common Entities</h1>

    <p>
        Now that we've got some of the inner workings out of the way, let's learn 
        a little about each of the primary entities in Rock. This section might seem a 
        bit tricky because entities often refer to other entities that we haven't 
        explained yet -- please bear with us. If you read something that's not
        quite making sense, just keep reading and it should become clear.
    </p>

    <div data-type="note" data-note-type="note">
        <h1>Help Us Help Everyone</h1>
        <p>
            If you think we've missed the mark trying to explain something, please let us 
            know. Use the little megaphone "Improve" feature (available online on the right
            side of the page) and give us the details on how you might write it.
            We love it when you help us help everyone.
        </p>
    </div>

    <section data-type="sect1">

        <h1><a name='person' href='#person' class='book-link'><i class='fa fa-link'></i></a>Person</h1>
        <p>
            What can we tell you about this that you don't already know? 
            This is a pretty straightforward entity except perhaps its relationship to the 
            <em data-type="reference" data-reference="reference-highlight">PersonAlias</em>
            that we touched on in the last book.  
            The <em data-type="reference" data-reference="reference-highlight">PersonAlias</em>
            is almost always the glue that connects other entities
            to the Person entity.  You'll do well to not forget this tidbit.
        </p>
        
        <p>
            Here the more commonly used properties you should consider when working with people in your code:
        </p>
        
        <ul>
			<li> <b>FirstName, NickName, LastName, FullName, FullNameFormal, FullNameReversed</b> - You get the drift.  These are their various names in various formats.  Many of these are virtual properties that are just computed from the first and last name properties. </li>
			<li> <b>EmailPreference</b> - Tells you whether when it's ok or not ok to use their email (ok, never, or no mass/bulk emails, etc.)</li>
			<li> <b>BirthDay, BirthMonth, BirthYear</b> - Of the date of birth. Sometimes you won't have the BirthYear (because it can be a sensitive topic for some people -- ahem.)</li>
			<li> <b>GraduationDate</b> - This is the date they will have completed their secondary schooling (not their higher education or vocational schooling).  In the United States this is their High School graduation date.</li>
			<li> <b>PhotoUrl</b> - This is a URL to their photo or if no photo exists, it will be a URL to the generic male/female/child SVG image.</li>
			<li> <b>RecordStatusValue</b> - This is the status of their record.  You know...whether they're active, inactive, or pending.  This value is actually a DefinedValue which we'll explain in greater detail in the DefinedType DefinedValue section.</li>
			<li> <b>IsDeceased</b> - A Boolean flag that would indicate they are deceased.</li>
			<li> <b>ConnectionStatusValue</b> - This tells you the nature of their connection with your organization.  This is also a DefinedValue which comes from the list of possible options of the Connection Status DefinedType.</li>
			<li> <b>PrimaryAlias</b> - This is the person's primary PersonAlias.</li>
			<li> <b>Aliases</b> - A collection of all of the person's PersonAlias records.  This collection slowly builds over time as a person's duplicate records are merged together.</li>
        </ul>
        
        <p>
            Some properties are not required, so keep in mind you may not have this data for some people:
        </p>
        
        <ul>
            <li><b>Email</b> - The person's email address.</li>
            <li><b>PhoneNumbers</b> - A collection of their PhoneNumber entities.</li>
            <li><b>Users</b> – A collection of UserLogin entities for the person.  Similar to the Aliases, a person can have one or more UserLogins as their duplicates records are merged.</li>
        </ul>
        
        <p>
            Here are a few very handy methods you can use on a person or via the Person class:
        </p>
        
        <ul>
			<li> <b>GetAnchorTag(...)</b> – This builds a HTML anchor/link tag to the person's profile. 
			You just need to pass it the URL to Rock's root. You'll see this commonly called like 
			this: <code>GetAnchorTag( ResolveRockUrl( "/" ) )</code></li>
			<li> <b>GetEmailTag(...)</b> – This builds an HTML email anchor tag for sending an email to the 
			person through Rock’s communication system.  The HTML will also note whether or not the person
			has an email address, allows email, allows bulk emails, etc.</li>
			<li> <b>GetPersonPhotoImageTag(...)</b> – This will build the markup necessary for a photo of the given person or  person alias.
<div data-type="example">
    <div style="color:Black;background-color:White;"><pre>
<span style="color:Green;">// Get the HTML for the person’s photo as a 50x50 image.</span>
lPersonIconHtml.Text = Person.GetPersonPhotoImageTag( aPersonAlias, 50, 50 );
</pre></div>
</div></li>
			<li> <b>GetHomeLocation()</b> – This method makes it trivial to fetch a person’s home address:
<div data-type="example">
    <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">var</span> homelocation = person.GetHomeLocation();
</pre></div>
</div></li>

        </ul>

        <div data-type="note" data-note-type="note">
            <h1>That's It?</h1>
            <p>
                We don't want to bore you to death by listing out every single property a Person or the other entities have.  
                You can find the complete list in the 
                <a href="https://rock.rocksolidchurchdemo.com/page/479" target="_blank">Model Map</a> 
                block under Power Tools which shows the Rock <em>model entities</em>.
                
                Additionally, there is now a <a href="http://rock.rocksolidchurchdemo.com/api/docs/index" target="_blank">REST "API Docs" reference</a>
                (found under your Rock system's Power Tools) which shows you all 
                entities that have REST endpoints you can use with your custom code.  
            </p>
        </div>

    </section>

    <section data-type="sect1">

        <h1><a name='attributes' href='#attributes' class='book-link'><i class='fa fa-link'></i></a>Attributes</h1>

        <p>
            Before we move on to the next entity,
            we should mention one very important thing: 
            <em data-type="reference" data-reference="reference-highlight">Attributes</em>. 
            Attributes can be tied to any entity, which means you can track specific values for any 
            instance of that entity. For the Person entity, you'll notice under Admin Tools &gt; General Settings 
            we set up the <em data-type="reference" data-reference="reference-page">Person Attributes</em>
            page.  This lets you add/manage custom attributes for the Person 
            entity.
        </p>

        <section data-type="sect2">
            <h2>Loading Attribute Values</h2>
            <p>
                Before you try to <em>access</em> an entity's attribute values <b>you must first
                load the attributes</b> as seen in this example:
            </p>
                    
<div data-type="example">
    <div style="color:Black;background-color:White;"><pre>
person.LoadAttributes();
<span style="color:Blue;">string</span> personAbilityLevel = person.GetAttributeValue( <span style="color:#A31515;">&quot;AbilityLevel&quot;</span> );
</pre></div>
</div>

        </section>

        <section data-type="sect2">
            <h2>Saving Attribute Values</h2>
            <p>
                Before you <em>save</em> an entity's attribute values <b>you have to
                load the attributes</b> as seen in this example:
            </p>

<div data-type="example">
    <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">group</span>.LoadAttributes( rockContext );
<span style="color:Green;">// After you’ve loaded the attributes... you can set and save values</span>
<span style="color:Blue;">group</span>.SetAttributeValue( <span style="color:#A31515;">&quot;Topic&quot;</span>, smallGroupTopicDefinedValue.Guid.ToString() );
<span style="color:Blue;">group</span>.SaveAttributeValues( rockContext );
</pre></div>
</div>

        </section>
        
    </section>

    <section data-type="sect1">

        <h1><a name='group' href='#group' class='book-link'><i class='fa fa-link'></i></a>Group</h1>
        <p>
            Groups represent collections of people.  Serving teams are groups, as are home and neighborhood "Small Group" groups.
            In fact, as you will read below, you will see that security roles and families are groups too.
        </p>
        <p>
            Groups will always have a <em data-type="reference" data-reference="reference-highlight">Name</em> and 
            a <em data-type="reference" data-reference="reference-highlight">GroupType</em>. There are all kinds of 
            GroupTypes in Rock. Your code will use this to distinguish and handle things differently for 
            different types of groups. (Read more about GroupTypes below.)
        </p>
        <p>
            Unless it is a top level group, it will probably have a ParentGroup, and unless it's a leaf group, 
            it will have a Groups property which holds the collection of its child groups. A group will also 
            generally have a Members property which holds a collection of GroupMember entities, and will 
            sometimes have a GroupLocations property that holds a collection of locations (GroupLocation) 
            associated with the group.  
        </p>
        <p>The rest of the properties are pretty self-explanatory too.</p>
    
        <section data-type="sect2">
            <h2>Code Recipes</h2>
            
            <p>
                Here are a few code recipes for some typical situations you may be in...
            </p>
            
            <p>
                When adding a new person, if you also wish to create their new family (group) too, 
                you can use the <em data-type="reference" data-reference="reference-highlight">PersonService</em>'s 
                handy SaveNewPerson() method.  It will return the newly created group in case you want to do
                something with it.
            </p>
            
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Green;">// once you have your person object setup...</span>
<span style="color:Blue;">var</span> familyGroup = PersonService.SaveNewPerson( person, rockContext, campusId, <span style="color:Blue;">false</span> );
</pre></div>
            
            <p>
                When adding a person to a group you will usually want to set their group member status
                and the role that is the default for that particular group type.
            </p>
            
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Green;">// Adds a person (using an Id) to a group with the default role.</span>
GroupMember groupMember = <span style="color:Blue;">new</span> GroupMember
{
    PersonId = personId,
    GroupMemberStatus = GroupMemberStatus.Active,
    GroupRoleId = aGroup.GroupType.DefaultGroupRoleId.Value
};
aGroup.Members.Add( groupMember );

</pre></div>
            </div>
    
            <p>
                Listing all addresses of a group:
            </p>
            
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">var</span> html = <span style="color:Blue;">new</span> StringBuilder();
<span style="color:Blue;">var</span> groupId = 68;
<span style="color:Blue;">var</span> <span style="color:Blue;">group</span> = <span style="color:Blue;">new</span> GroupService( <span style="color:Blue;">new</span> RockContext() ).Get( groupId );
<span style="color:Blue;">foreach</span> ( <span style="color:Blue;">var</span> groupLocation <span style="color:Blue;">in</span> <span style="color:Blue;">group</span>.GroupLocations )
{
    <span style="color:Blue;">var</span> location = groupLocation.Location;
    html.AppendFormat( <span style="color:#A31515;">&quot;&lt;li&gt;{0}{1}{2}&lt;br&gt;{3}, {4} {5}&lt;/li&gt;&quot;</span>,
        location.Street1,
        (<span style="color:Blue;">string</span>.IsNullOrEmpty(location.Street2) ? <span style="color:Blue;">string</span>.Empty : <span style="color:#A31515;">&quot;&lt;br&gt;&quot;</span>),
        location.Street2,
        location.City,
        location.State,
        location.PostalCode );
}

lList.Text = <span style="color:Blue;">string</span>.Format( <span style="color:#A31515;">&quot;&lt;ul&gt;{0}&lt;/ul&gt;&quot;</span>, html.ToString() );
</pre></div>
            </div>
            
        </div></section>
    </section>
    
    <section data-type="sect1">

        <h1><a name='grouptype' href='#grouptype' class='book-link'><i class='fa fa-link'></i></a>GroupType</h1>
        <p>
            Every group has a specific group type. The group type establishes attributes
            and has properties that helps control part of the group's behavior.  For example, 
            any groups that are of type "Check in by Grade" will have a "Grade Range" attribute 
            which is inherited from that group type.  For an example of this in action (controlling behavior),
            refer to the check-in related blocks which use a group's GroupTypePurposeValue to decide
            whether or not to show/use a particular group for check-in purposes.
        </p>
        
        <p>Group Types will <em>always</em> have:</p>
        
        <ul>
            <li><b>Name</b> – The name by which the group is known.</li>
            <il><b>GroupTerm</b> – This defines the term used to describe groups of this type.  Examples are: group, community, class, family, etc.</il>
            <li><b>GroupMemberTerm</b> – This is the term used to describe the member.  Examples are family member, team member, member, employee, etc.</li>
        </ul>
        
        <p>Group Types may have:</p>
        
        <ul>
            <li><b>AllowMultipleLocations</b> -  Boolean that controls whether or not these groups are allowed to have multiple locations.</li>
            <il><b>DefaultGroupRole</b> -  The default role that a new member should have when placed into this group type.</il>
            <li><b>InheritedGroupType</b> - If set, indicates which GroupType it inherits settings and properties from.</li>
            <li><b>ShowInGroupList</b> - Indicates whether these groups are shown in GroupList blocks.</li>
            <li><b>ShowInNavigation</b> -  Indicates whether these groups are shown in navigation (such as TreeViews and menus).</li>
            <li><b>TakesAttendance</b> - Flag that indicates whether or not this type supports taking attendance.</li>
            <li><b>SendAttendanceReminder</b> - Flag that indicates if an attendance reminder should be sent to group leaders.</li>
        </ul>
    </section>
    
    <section data-type="sect1">

        <h1><a name='groupmember' href='#groupmember' class='book-link'><i class='fa fa-link'></i></a>GroupMember</h1>
        <p>
            A group member is the entity that connects a person and a group.  It holds any attribute values the member has and 
            a property that points to the actual group and person instances.
        </p>
        
        <p>Group Members will <em>always</em> have:</p>
        
        <ul>
            <li><b>Group</b> - The group to which the person belongs.</li>
            <il><b>Person</b> - The person who is in the group.</il>
            <li><b>GroupRole</b> - The role the person has within the group (leader, member, etc.).  These come from the GroupType and are configurable.</li>
            <li><b>GroupMemberStatus</b> - Indicates whether the person is Inactive (0), Active (1), or Pending (2). This is an enum in Rock.</li>
        </ul>

        <section data-type="sect2">
            <h2>Code Recipes</h2>
            
            <p>
                Adding a person to a group:
            </p>
            
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">var</span> groupMemberService = <span style="color:Blue;">new</span> GroupMemberService( rockContext );
<span style="color:Blue;">var</span> groupMember = <span style="color:Blue;">new</span> GroupMember();
groupMember.PersonId = person.Id;
groupMember.GroupId = <span style="color:Blue;">group</span>.Id;
groupMember.GroupRoleId = groupRoleId.Value;
groupMember.GroupMemberStatus = GroupMemberStatus.Active;
<span style="color:Blue;">if</span> ( groupMember.IsValid )
{
    groupMemberService.Add( groupMember );
    rockContext.SaveChanges();
}
</pre></div>
            </div>
    
            <p>
                It's rather important that you remember to set the group member's role and status as seen above.
            </p>
            
        </section>
        
    </section>
    
    <section data-type="sect1">

        <h1><a name='grouplocation' href='#grouplocation' class='book-link'><i class='fa fa-link'></i></a>GroupLocation</h1>
        <p>
            This holds all the location details for a group.  Examples could include a Person/Family's 
            address, a Business' address, a room where a Bible study meets, etc.  
            Pretty much any place where a group of people meet or where they are located.
        </p>
        
        <p>A GroupLocation should <em>always</em> have:</p>
        
        <ul>
            <li><b>Group</b> – The group to which the address belongs.</li>
            <il>
                <b>Location</b> – The postal/mailing/geographical details for the address.  This is
                another object class described in the next section.
            </il>
            <li>
                <b>GroupLocationTypeValue</b> – This will be one of the values from the Location Type 
                <em data-type="reference" data-reference="reference-highlight">DefinedType</em>
                for Groups (representing either Home, Meeting Location, Work, or Previous Address).
            </li>
        </ul>

        <p>In certain cases it may also have:</p>
        
        <ul>
            <li><b>Schedule</b> – The date/time details about when the group is at that location.</li>
        </ul>
        
    </section>
    
    <section data-type="sect1">

        <h1><a name='location' href='#location' class='book-link'><i class='fa fa-link'></i></a>Location</h1>
        <p>
            A location could be a street address, building, floor, room, kiosk location, etc. 
            A location is also stackable/hierarchical. For example, for a church's campus can have 
            multiple buildings or facilities, each building can be multi story and a story can have multiple rooms.
        </p>
        
        <p>
            If the location is a place on a campus, it should have:
        </p>
        
        <ul>
            <li><b>Name </b> - The common name the location is known by.</li>
            <li><b>CampusId</b> - The Id of the location's campus.</li>
            <li><b>ParentLocation</b> - This will be another location that contains this location.  If the location is a campus, this value will be null.</li>
            <li>
                <b>LocationTypeValueId</b> - This will be one of the Id values from the 
                <em data-type="reference" data-reference="reference-highlight">Location Type</em>
                DefinedType (representing either Campus, Building, or Room).
            </li>
        </ul>
        
        <p>
            If it is a mailing address it will usually have:
        </p>
        
        <ul>
            <li><b>Street1</b> - The first line of the mailing address.</li>
            <li><b>Street2</b> - The second (optional) line of a mailing address.</li>
            <li><b>City</b> - The city.</li>
            <li><b>State</b> - The state.</li>
            <li><b>PostalCode</b> - The Zip/postal code of the mailing address.</li>
            <li><b>Country</b> - The optional value indicating the country of the address.</li>
        </ul>
        
        <p>
            Once geo-coded, a location will have:
        </p>
        
        <ul>
            <li><b>GeoPoint</b> - The DbGeography object that holds the latitude and longitude of the location.  This will be null if the location is a GeoFence.</li>
            <li><b>GeoFence</b> - A DbGeography object that holds the set of <em>coordinates</em> that make up the fence (or perimeter) contains the location.</li>
            <li><b>Latitude</b> - If it's a GeoPoint, this will give you the latitude of the point.</li>
            <li><b>Longitude</b> - If it's a GeoPoint, this will give you the longitude of the point.</li>
            <li>
                <b>GeocodeAttemptedResult</b> - The resulting code given by the service when the geocode took place. This depends on the service. 
                For example, SmartyStreets will use their "precision" result described here: 
                <a href="https://smartystreets.com/docs/address">https://smartystreets.com/docs/address</a>
            </li>
            <li><b>GeocodeAttemptedDateTime</b> - The date the geocoding took place.</li>
            <li><b>GeocodeAttemptedServiceType</b> - The name of the service that performed the geocoding.</li>
        </ul>
        
        <p>
            Once "standardized" by one of the Address Standardization services defined under System Settings &gt; 
            Location Services (if enabled), a location will have:
        </p>
        
        <ul>
            <li>
                <b>StandardizeAttemptedDateTime</b> - Represents when the most recent address standardization attempt was made. 
                If this is not applicable to this location, or if the address has not been standardized, this value will be null.
            </li>
            <li><b>StandardizedDateTime</b> - The date and time that the Location's address was successfully standardized.</li>
            <li><b>StandardizeAttemptedServiceType</b> - The component name of the service that last attempted to standardize this Location's address.</li>
            <li><b>StandardizeAttemptedResult</b> - The result code that was returned by the address standardization service.</li>
        </ul>
        
    </section>
    
    <section data-type="sect1">

        <h1><a name='campus' href='#campus' class='book-link'><i class='fa fa-link'></i></a>Campus</h1>
        <p>
            This entity represents the physical or logical site where the organization holds its activities.  
            For multi-site organizations there should be a campus record for each site. Many of the primary 
            entities in Rock can be tied to either a single or multiple campuses.
        </p>

        <p>
            A campus will always have a <b>Name</b> and will usually have:
        </p>
        
        <ul>
            <li><b>Location</b> - The actual geographical details about the campus.</li>
            <li><b>PhoneNumber</b> - The main, public office phone number for the campus.</li>
            <li><b>ServiceTimes</b> - The delimited data you put in here is primarily intended to be displayed on your campus 
            service time's web page.  It's not actually structured data – for that, use the Schedule entity.</li>
        </ul>
        
        <h2>Single Campus Special Considerations</h2>
        <p>
            Starting with Rock v10, when a Rock system has only 1 campus defined, we want to 
            ensure that no one using that system has to worry about seeing or picking that
            single campus. We want the system to seemlessly just use that single campus
            and never really expose it (except in very rare, specific places).
        </p>
        
    </section>
    
    <section data-type="sect1">

        <h1><a name='schedule' href='#schedule' class='book-link'><i class='fa fa-link'></i></a>Schedule</h1>
        <p>
            This holds the date and time details for some sort of event.  It is used with the check-in system, the group
            locator system, and the event calendar.
        </p>
        
        <p>
            A schedule will usually have:
        </p>
        
        <ul>
            <li><b>Name</b> - A friendly name for the schedule.</li>
            <li>
                <b>iCalendarContent</b> - This is the iCal representation of the date/time.  Since iCal is quite
                sophisticated, you may wish to get the full DDay.iCal.Event object using the
                <code>GetCalenderEvent()</code> method.  From that object you can programatically access
                the properties of the schedule.
            </li>
            <li><b>EffectiveStartDate</b> - The date that the schedule becomes active.</li>
            <li><b>EffectiveEndDate</b> - The date that the schedule becomes inactive.</li>
            <li><b>WeeklyDayOfWeek</b> - This is the day of the week that the weekly item takes place.</li>
            <li><b>WeeklyTimeOfDay</b> - This is the time of day that the weekly item take place.</li>
        </ul>
        
        <div data-type="note" data-note-type="note">
            <h1>DDay.iCal Info</h1>
            <p>
                Although this project has been moved to a new code base, you may still find
                the examples and information about iCal from this old repository useful, namely the 
                <a href="https://github.com/mdavid/DDay.iCal/blob/dev/DDay.iCal/Components/Event.cs">Event</a>
                class.
            </p>
        </div>

    </section>
    
    <section data-type="sect1">

        <h1><a name='role' href='#role' class='book-link'><i class='fa fa-link'></i></a>Role</h1>
        <p>
            This is a special entity that represents a security role and has a collection of users that
            have the role. Behind the scenes its data is stored in the Group and GroupMember tables and 
            it is primarily used by Rock’s security system including the Authorization class.
        </p>
        
        <p>
            A role will have:
        </p>
        
        <ul>
            <li><b>Name</b> - One ore two words that quickly defined what the role represents.</li>
        </ul>
        
        <p>
            The Role class also has a method that is used to quickly determine if the given person has the role:
        </p>
        
        <ul>
            <li><b>IsPersonInRole(...)</b> - Returns true if the person is in the role; false otherwise..</li>
        </ul>
        
        
    </section>
    
    <section data-type="sect1">

        <h1><a name='definedtypedefinedvalue' href='#definedtypedefinedvalue' class='book-link'><i class='fa fa-link'></i></a>DefinedType & DefinedValue</h1>
        <p>
            A DefinedType is a dictionary of mostly-unchanging values for a particular thing in Rock. The thing's
            individual item values are referred to as DefinedValues.  Therefore, if Marital Status was the 
            DefinedType, then its DefinedValues are Single, Married, Unknown, Widowed, etc.
        </p>
        
        <p>
            Several classic examples of DefinedTypes are 
            <em data-type="reference" data-reference="reference-highlight">Phone Type</em>,
            <em data-type="reference" data-reference="reference-highlight">Shirt Sizes</em>,
            <em data-type="reference" data-reference="reference-highlight">Small Group Topic</em>,
            <em data-type="reference" data-reference="reference-highlight">Countries</em>, etc. 
        </p>
        <p>
            Defined Values can be categorized, ordered and can be furthered specified by a FieldType. 
            And, of course they can have <em data-type="reference" data-reference="reference-highlight">Attributes</em>
            which means you can expand on them quite a bit.  Attributes and AttributeValues are covered in the next chapter.
        </p>
        <p>
            The benefit of managing these values in this way is that it avoids having to create new Entity types 
            for each defined type/value that you want to create.  Similar to attributes, these can be created as the
            need arises without having to change the Rock core or add a plug-in just to provide additional lookup data. 
        </p>
        <p>
            If you are looking for a good case study showing how far you can go with the DefineType and DefinedValue, 
            check out the DISC Results DataType. It has nine attributes of varying datatypes and they are used
            programmatically by the <em data-type="reference" data-reference="reference-highlight">DiscResults</em> block.
        </p>
        
    </section>
    
    <section data-type="sect1">

        <h1><a name='category' href='#category' class='book-link'><i class='fa fa-link'></i></a>Category</h1>
        <p>
            A category is another fairly generic entity type in Rock which can be used to... well... categorize things.
            Each category will belong to one Entity type, and categories can be created in a parent-child hierarchy as 
            well as ordered.
        </p>
        
        <figure>
            <figcaption>Example of Prayer Request Categories</figcaption>
            <a href='' class='book-image'><img src="https://rockrms.blob.core.windows.net/documentation/Books/17/1.1.0/images/prayer-request-categories.png" alt="prayer request categories"></a>
        </figure>
        
        <p>
            There is even a <em data-type="reference" data-reference="reference-highlight">Categories</em> block in
            Rock that can be configured and bound to any Entity in order to manage categories for that entity.
        </p>
        
        <figure>
            <figcaption>Example of Managing Prayer Request Categories</figcaption>
            <a href='' class='book-image'><img src="https://rockrms.blob.core.windows.net/documentation/Books/17/1.1.0/images/prayer-categories-management.png" alt="prayer categories management"></a>
        </figure>
        
    </section>
    
    
</section>

<section data-type="chapter" id="advanced-entity-guide"><h1><a name='advancedentityguide' href='#advancedentityguide' class='book-link'><i class='fa fa-link'></i></a>Advanced Entity Guide</h1>

    <p>
        Now let's look at several entities that are a little less common or a little more obscure
        than the day to day entities.
    </p>

    <section data-type="sect1">

        <h1><a name='attendance' href='#attendance' class='book-link'><i class='fa fa-link'></i></a>Attendance</h1>
        <p>
            This represents an instance where a person attended or was scheduled to attend a group or event.   
            An attendance will essentially always have the following properties:
        </p>
        <ul>
            <li><b>PersonAliasId</b> - The alias id of the person who did/was to attend.</li>
            <li><b>StartDateTime</b> - The date and time the person checked in.</li>
            <li><b>RSVP</b> - An enum indicating whether or not the person had RSVP'd. (0 = No, 1 = Yes, 2 = Maybe)</li>
            <li><b>DidAttend</b> - A Boolean indicating whether or not the person attended.</li>
            <li><b>ScheduleId</b> - The Schedule Id for which the person did/was to attend.</li>
            <li><b>GroupId</b> - The Group Id for which the person was related to when the check-in occurred.</li>
            <li><b>SundayDate</b> - The date of the Sunday for the week the attendance occurred.</li>
        </ul>
        
        <p>
            This represents an instance where a person attended or was scheduled to attend a group or event.   
            An attendance will essentially always have the following properties:
        </p>
        <ul>
            <li><b>AttendanceCodeId</b> - The Id to the AttendanceCode that has the security token that was created for the attendance record.</li>
            <li><b>LocationId</b> - The Location Id where the person did/was to attend.</li>
            <li><b>DeviceId</b> - The device the person used when they checked in.</li>
            <li><b>CampusId</b> - The campus where the attendance occurred.</li>
            <li><b>DidNotOccur</b> - a Boolean which will be set to true if the event for which the person was to attend did not occur.</li>
        </ul>
    </section>
    
    
    <section data-type="sect1">

        <h1><a name='attributeampattributevalue' href='#attributeampattributevalue' class='book-link'><i class='fa fa-link'></i></a>Attribute &amp; AttributeValue</h1>
        <p>
            As mentioned elsewhere, nearly every entity type can have Attributes and the entity instances can store AttributeValues.
            Every Attribute has a particular field type such as Text, Date, Date Time, Date Range, Day of Week, Person,
            Group, etc. and this controls what kind of data can be stored in the AttributeValue. There are about one hundred
            field types so you should be able to store just about any kind of data you can imagine.
        </p>

        <p>Attributes have the following properties:</p>
        <ul>
            <li><b>Name</b> - This is the friendly name of the attribute.</li>
            <li><b>Key</b> - This is the key that you may use in certain Lava filters to manage your attribute/values.</li>
            <li><b>EntityTypeId</b> - Since an attribute is tied to an Entity Type, this holds the value of that type.</li>
            <li><b>EntityTypeQualifierColumn</b> - This is only used in those cases where the attribute applies to only a subset of the EntityType.</li>
            <li><b>EntityTypeQualifierValue</b> - This is only used in those cases where the attribute applies to only a subset of the EntityType.</li>
            <li><b>FieldTypeId</b> - This indicates exactly which field type the attribute is using.</li>
            <li><b>IsMultiValue</b> - This boolean controls whether or not the attribute can have multiple assigned values.</li>
            <li><b>IsRequired</b> - This boolean controls whether or not an attribute value must be supplied when editing.</li>
            <li><b>IsGridColumn</b> - This boolean controls whether the attribute/value should appear in grids where the entities are listed.</li>
            <li><b>Description</b> - This is the friendly administrative text that helps you remember what the attribute is use for.</li>
            <li><b>Order</b> - The integer stored here indicates the ordinal when they are displayed in a list.</li>
        </ul>
        
        <p>AttributeValues have the following properties:</p>
        <ul>
            <li><b>AttributeId</b> - This indicates exactly which attribute this value belongs to.</li>
            <li><b>EntityId</b> - This indicates exactly which entity the value belongs to.</li>
            <li><b>Value</b> - This is the string representation of the attribute value for the entity.</li>
            <li><b>ValueAsNumeric</b> - This is the numeric (decimal) representation of the value.</li>
            <li><b>ValueAsDateTime</b> - This is the DateTime representation of the value.</li>
            <li><b>ValueAsBoolean</b> - This is the boolean representation of the value.</li>
            <li><b>ValueAsPersonId</b> - This is the person Id of the Value (if the value is a person alias guid).</li>
        </ul>
        
        <p>
            Out of the box Rock includes UI for adding/deleting attributes for Person, Group, GroupType, and a few others
            entities, but there is an "Attributes" block that's very easy to configure to manage new custom attributes for
            just about any <i>entity</i>.  However, not every entity "Detail" block currently has code to manage the Attribute <em>Values</em>
            for that entity but, if you look at the code history (<a href="https://github.com/SparkDevNetwork/Rock/commit/33a7217c30ee8252fcc8e0d4226ce17abfb78842#diff-4bad3c2046024cd04376bac327bdb5d5">33a7217</a>
            and <a href="https://github.com/SparkDevNetwork/Rock/commit/70f3e16d30fa12156cf18b5de4ceb85b5044389f#diff-4bad3c2046024cd04376bac327bdb5d5">70f3e16</a>) of the
            <a href="https://github.com/SparkDevNetwork/Rock/blob/develop/RockWeb/Blocks/Finance/AccountDetail.ascx.cs">Finance AccountDetail</a>
            block, you will see the code needed to add this feature. <i>Be sure to check the latest code/pattern in the AccountDetail block since
            some patterns have changed slightly since those two commits were made (for example: <a href="https://github.com/SparkDevNetwork/Rock/commit/760f7d7bec3d3e67b8f48b88d0b39c6068cc29c7">760f7d7</a>).</i>
        </p>
        
        <p>
            There is another code pattern for enabling "List" blocks to show attribute values on the grid when the attribute 
            has the "Show in Grid" (IsGridColumn) checkbox checked. (See <a href="https://github.com/SparkDevNetwork/Rock/commit/2c59a7f198e5222d2493c2f7bbf9c1714e2cb7e4#diff-0ce49c8bcecac8a5267e5b0ff53c1fed">2c59a7f</a>)
        </p>

        <section data-type="sect2">
            <h2>Code Recipes</h2>

            <p>
                There isn't a quick way to load attributes in one round trip for a list of entities, but
                using the “.Where” clause on attribute values for a queryable you can do something like this:
            </p>
            
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">var</span> rockContext = <span style="color:Blue;">new</span> RockContext();
    
<span style="color:Green;">// get groups that have a favorite color attribute of blue</span>
IQueryable&lt;Group&gt; groupsWithAttributeValues = <span style="color:Blue;">new</span> GroupService( rockContext )
    .Queryable().WhereAttributeValue( rockContext, <span style="color:#A31515;">&quot;FavoriteColor&quot;</span>, <span style="color:#A31515;">&quot;Blue&quot;</span> );
</pre></div>
            </div>
            <p>
                Group attributes are the most complicated to load since they can inherit attributes from their parent
                GroupType(s) and the above snippet wouldn't work if a group inherited an attribute value from a GroupType, 
                but in most cases, this would do the trick.
            </p>
            
            <p>
                You can even do some complex queries using the <code>WhereAttributeValue</code> method and the
                ValueAsBoolean, ValueAsDateTime, ValueAsNumeric forms of the Value.  These properties are 
                automatically computed using the Value property but be sure your value stores a Date before 
                trying to use the ValueAsDateTime property, for example.
            </p>
            
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">var</span> rockContext = <span style="color:Blue;">new</span> RockContext();

<span style="color:Green;">// Get cool people.</span>
 <span style="color:Blue;">var</span> catBaptismCutoff = RockDateTime.Now.AddYears( -3 );
 IQueryable&lt;Person&gt; personsThatAreCool = <span style="color:Blue;">new</span> PersonService( rockContext ).Queryable()
     .WhereAttributeValue( rockContext, av =&gt; 
         (av.Attribute.Key == <span style="color:#A31515;">&quot;LovesStarWars&quot;</span> &amp;&amp; av.ValueAsBoolean == <span style="color:Blue;">true</span>) 
      || (av.Attribute.Key == <span style="color:#A31515;">&quot;CatBaptismDate&quot;</span> &amp;&amp; av.ValueAsDateTime &gt; catBaptismCutoff ));
    
</pre></div>
            </div>

        </section>
            
    </section>
    
    
    <section data-type="sect1">

        <h1><a name='binaryfile' href='#binaryfile' class='book-link'><i class='fa fa-link'></i></a>BinaryFile</h1>
        <p>
            A binary file is basically any kind of file that needs to be stored in Rock (or elsewhere). 
            The file might be an image, a check-in print label, or an uploaded PDF.  Using different "Storage Providers" the
            contents of the file can be stored to the web server's file system, the database or places such as Azure, 
            Amazon S3, etc. The BinaryFile entity will always have the following properties:
        </p>
        
        <ul>
            <li><b>IsTemporary</b> - This Boolean lets Rock know if the storage of the file was only temporarily necessary.  In other words, Rock is free to delete any that are temporary.</li>
            <li><b>FileName</b> - This is the name of the file, including any extensions. This name is usually captured when the file is uploaded to Rock and this same name will be used when the file is downloaded.</li>
            <li><b>MimeType</b> - No clowning around, these are official. The value recorded here tells you if the file is a PDF, an image, text, video, word document, etc.  
                You can see a rather extensive <a href="http://www.iana.org/assignments/media-types/media-types.xhtml">official list of valid Mime Types here</a>.</li>
        </ul>
        
        <p>Although not technically required, a BinaryFile will also typically have the following:</p>
        <ul>
            <li><b>BinaryFileTypeId</b> - This lets you determine the BinaryTypeType which controls the security requirements on the file, the storage provider
                to use for storing the file, and whether or not the file can be cached.</li>
            <li><b>StorageEntityTypeId</b> - This tells you which Storage Provider is being used to store the file.  This is the Id of record from the EntityType table.</li>
            <li><b>Path</b> - This is the path to the file resource as determined by the storage provider.</li>
            <li><b>URL</b> - Somewhat related to the Path, the value stored here is the public URL used to retrieve the file from the storage provider.</li>
        </ul>
        
    </section>
    
    
    <section data-type="sect1">

        <h1><a name='communication' href='#communication' class='book-link'><i class='fa fa-link'></i></a>Communication</h1>
        <p>
            A communication represents an email, an SMS message or something similar. Oddly enough there are not many required properties on a communication but they will usually have these:
        </p>
        
        <ul>
            <li><b>Subject</b> - Yes, it's what you think it is. </li>
            <li><b>Status</b> - This is one of the following: 0 – Transient, 1 – Draft, 2 – Pending Approval, 3 – Approved, 4 – Denied. 
                Transient communications are those created somehow by the system but not yet edited by the user.  They will be removed by the Rock cleanup job periodically. </li>
            <li><b>MediumEntityTypeId</b> - This is what tells you if the communication is an email, SMS text, etc. This is the Id of an item in the EntityType table. </li>
            <li><b>SenderPersonAliasId</b> - This is the alias id of the person who is considered the "sender" of the communication.</li>
            <li><b>IsBulkCommunication</b> - Recommended to be set to true, if the communication is being sent to a large amount of people who are probably not expecting it.</li>
            <li><b>Recipients</b> - This is a collection of CommunicationRecipient entities which gives you the particular details about who is going to (or has) received the message.</li>
        </ul>
    </section>
    
    <section data-type="sect1">

        <h1><a name='communicationrecipient' href='#communicationrecipient' class='book-link'><i class='fa fa-link'></i></a>CommunicationRecipient</h1>
        <p>
            This goes along with a Communication and holds the details about the person who received or should have received the communication.
        </p>
        
        <ul>
            <li><b>Status</b> - This is one of the following and tells you whether or not the message was sent, received and/or opened: 0 – Pending, 1 – Delivered, 2 – Failed, 3 – Cancelled, 4 – Opened, 5 – Sending. </li>
            <li><b>StatusNote</b> - This will hold any free-form text regarding the message delivery or reason why it could not be delivered. </li>
        </ul>
        
    </section>
    
    <section data-type="sect1">

        <h1><a name='contentchannelampcontentchannelitem' href='#contentchannelampcontentchannelitem' class='book-link'><i class='fa fa-link'></i></a>ContentChannel &amp; ContentChannelItem</h1>
        <p>
            Content channels and the items they contain have become the main vehicle for putting structured content (HTML) on your Rock powered website.  
            When you look at certain pages on the main rockrms.com website such as https://www.rockrms.com/Rock/Connect or the promotion ads on the stock
            <a href="http://rock.rocksolidchurchdemo.com/page/1">home page of the demo site</a> you will see them in action.
        </p>
        
        <p>
            In actuality, Content Channel's have an underlying Content Channel Type where base, inherited channel attributes and channel item 
            attributes can be put.  In this way, Content Channel Types and Content Channels are similar to Group Types and Groups.
        </p>
        
        <p>
            You may not be interacting with Content Channels in your code too often, but if you do you'll want to study the
            ContentChannelView block to see how.
        </p>
        
    </section>
    
    
    <section data-type="sect1">

        <h1><a name='noteampnotetype' href='#noteampnotetype' class='book-link'><i class='fa fa-link'></i></a>Note &amp; NoteType</h1>
        <p>
            Notes represent an entity that holds user typed information about another entity and Rock provides some blocks to help with their 
            usage. To prevent you from re-creating the wheel, let's make sure you understand the power of the Notes entity.  Notes can be 
            seen in action on the person profile page as the "Timeline" feature via the Notes block and on the Group Member Details page.
            Although Notes are relatively simple, having only a few properties listed here, they can be bound to any entity type in Rock
            and each Note Type can be secured allowing only certain roles/people to view, add or edit them. The properties of a Note are:
        </p>
        
        <ul>
            <li><b>NoteTypeId</b> - Each note has an underlying type that tells Rock which entity type it is tied to and what security it has. </li>
            <li><b>EntityId</b> - This is the Id of the entity that the note is bound to.  The Note's type tells you which entity type the Id belongs to. </li>
            <li><b>IsAlert</b> - This Boolean lets Rock know if this special note should be highlighted in some way to bring special attention to the viewer. </li>
            <li><b>IsPrivateNote</b> - This Boolean flag indicates that the note should only be visible to the person who created the note. </li>
            <li><b>Caption</b> - This is a brief, optional title for the note which is typically programmatically generated on the fly
                by Rock's internal code. For example, on a private note, the caption is set to "You - Personal Note". </li>
            <li><b>Text</b> - This is the main content of the note. </li>
        </ul>
        
        <section data-type="sect2">
            <h2>Putting Notes on an Entity</h2>
            
            <p>
                Regardless of whether you are interacting with notes in your own code, if you find the need to have notes
                on a new entity consider using the Note block with the following setup:
            </p>
            
            <ol>
                <li>Add a new Note Type</li>
                <li>Add the Notes block to your entity details page and configure its Context with the entity type of your choosing.</li>
                <li>Edit the page Advanced Settings and set the Context Parameters so that Rock puts the correct entity into the page 
                    context for the Note block to operate against.</li>
            </ol>
        </section>
        
    </section>
    
    
    <section data-type="sect1">

        <h1><a name='workflowampworkflowtype' href='#workflowampworkflowtype' class='book-link'><i class='fa fa-link'></i></a>Workflow &amp; WorkflowType</h1>
        <p>
            A Workflow is an instance of a WorkflowType.  Abstractly speaking, a WorkflowType defines a set of Activities
            and Actions to perform each time a new workflow instance is created.  Typically you won't be trying to work
            too directly with Workflows and WorkflowTypes in your code, but you may want to start a workflow from
            your code.
        </p>
        
        <p>
            Here's an example of programatically launching a new Workflow using a
            known workflowType (as found in the PersonUpdate.Kiosk block):
        </p>
        
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">if</span> ( workflowType != <span style="color:Blue;">null</span> &amp;&amp; ( workflowType.IsActive ?? <span style="color:Blue;">true</span> ) )
{
    <span style="color:Blue;">var</span> workflowService = <span style="color:Blue;">new</span> WorkflowService( rockContext );
    <span style="color:Blue;">var</span> workflow = Rock.Model.Workflow.Activate( workflowType, <span style="color:#A31515;">&quot;Kiosk Update Info&quot;</span> );

    <span style="color:Green;">// set attributes</span>
    workflow.SetAttributeValue( <span style="color:#A31515;">&quot;PersonId&quot;</span>, hfPersonId.Value );
    workflow.SetAttributeValue( <span style="color:#A31515;">&quot;FirstName&quot;</span>, tbFirstName.Text );
    workflow.SetAttributeValue( <span style="color:#A31515;">&quot;LastName&quot;</span>, tbLastName.Text );
    workflow.SetAttributeValue( <span style="color:#A31515;">&quot;StreetAddress&quot;</span>, acAddress.Street1 );
    workflow.SetAttributeValue( <span style="color:#A31515;">&quot;City&quot;</span>, acAddress.City );
    
    <span style="color:Green;">// ...</span>

    <span style="color:Green;">// lauch workflow</span>
    List&lt;<span style="color:Blue;">string</span>&gt; workflowErrors;
    workflowService.Process( workflow, <span style="color:Blue;">out</span> workflowErrors );
}
</pre></div>
        </div>
        
        
    </section>
        
</section>

<section data-type="chapter" id="saving-custom-data"><h1><a name='savingcustomdata' href='#savingcustomdata' class='book-link'><i class='fa fa-link'></i></a>Saving Custom Data</h1>

    <p>
        There's so much more we can do with just blocks, but we suspect you want to
        create your own custom entities that can be saved to the database.  Since Rock
        uses Microsoft's Entity Framework we'll show you how simple this is with
        a "code first" approach.
    </p>
    <div data-type="note" data-note-type="warning">
        <h1>Prerequisites</h1>
        <p>
            Although what we're about to do is pretty simple, we can't turn
            you into an experienced C# web-developer. You should have a basic understanding
            of <a href="http://www.asp.net/web-forms/what-is-web-forms">ASP.NET Web Forms</a>
            otherwise you'll probably be a bit lost in this chapter.
        </p>
    </div>

    <section data-type="sect1">

        <h1><a name='referralagencysampleproject' href='#referralagencysampleproject' class='book-link'><i class='fa fa-link'></i></a>Referral Agency Sample Project</h1>
        <p>
            The Rockit SDK comes with a reference project called "Sample Project". It includes
            a custom entity called <em data-type="reference" data-reference="reference-highlight">ReferralAgency</em>
            and also included in your plugin folder are two custom blocks, one to list existing 
            referral agencies and one to add/edit/view the details of a referral agency.  In this 
            section we'll walk you through the code for the custom <em data-type="reference" data-reference="reference-highlight">ReferralAgency</em>
            entity that belongs to the generic <em data-type="reference" data-reference="reference-highlight">org.rocksolidchurch.SampleProject</em>
            so you have a solid foundation for creating your own custom entities.
        </p>
        
    </section>
    
    <p>
        Let's say we want to keep track of agencies that your church/organization
        refers people to. We are going to create a <code>ReferralAgency</code> class
        that models an agency with its properties and a very simple <code>ReferralAgencyService</code>
        to act as our liason with the database. These classes will rely on the base Rock classes but
        We won't go too deeply into those inner workings so we can keep this chapter simple.
        Then we're going to create two blocks to help us manage our
        <em data-type="reference" data-reference="reference-highlight">ReferralAgency</em> items.
    </p>
    
    <div data-type="note" data-note-type="note">
        <h1>Rock Groups Rock</h1>
        <p>
            Depending on your exact needs you might be able to use Rock's super-flexible 
            <em data-type="reference" data-reference="reference-highlight">Groups</em> system
            along with Rock's general purpose <em data-type="reference" data-reference="reference-highlight">Attributes</em>
            system.  If so, it will mean you won't have to write any code.
            However for the purpose of this chapter we'll pretend you really needed to
            create your own custom model.
        </p>
    </div>

    <section data-type="sect1">

        <h1><a name='step1addaproject' href='#step1addaproject' class='book-link'><i class='fa fa-link'></i></a>Step 1 - Add a Project</h1>
        
        <p>
            Let's create a class library project to hold our model classes.
            Make sure nothing is running in Visual Studio and then right-click the solution in the Solution Explorer.
            Select 'Add > New Project...'  Create it as a new Visual C# Class Library with a name of
            <code>org.rocksolidchurch.SampleProject</code>.
        </p>
        
        <p>Let's create some folders to keep our stuff organized. Right-click the project in the Solution Explorer
        and select 'Add > New Folder' and create:
            <ul>
                <li>Migrations</li>
                <li>Model</li>
                <li>Rest</li>
                <li>SystemGuids</li>
            </ul>
        </p>
        
        <p>
            We're going to be using several other libraries in our classes so let's add 
            references to a few key assemblies.
            
            <ul>
                <li>From the Framework Assemblies, select:
                    <ul>
                        <li>System.ComponentModel.DataAnnotations</li>
                        <li>System.Runtime.Serialization</li>
                    </ul>
                </li>
                <li>From the Browse, navigate to your RockWeb/bin folder and select the following items
                or add them from the Tools | NuGet Package Manager | Manage NuGet Packages for Solution
                (except the Rock and Rock.Rest assemblies, you'll need to add them from RockWeb/bin):
                    <ul>
                        <li>EntityFramework.SqlServer.dll</li>
                        <li>EntityFramework.dll</li>
                        <li>Microsoft.Data.Edm.dll</li>
                        <li>Microsoft.Data.OData.dll</li>
                        <li>Newtonsoft.Json.dll</li>
                        <li>DotLiquid.dll</li>
                        <li>Rock.dll</li>
                        <li>Rock.Lava.Shared.dll</li>
                        <li>Rock.Rest.dll</li>
                    </ul>
                </li>
            </ul>
        </p>
    </section>
        
    <section data-type="sect1">

        <h1><a name='step2buildamodel' href='#step2buildamodel' class='book-link'><i class='fa fa-link'></i></a>Step 2 - Build a Model</h1>
        
        <p>
            Open your org.rocksolidchurch.SampleProject and create a class called
            <em data-type="reference" data-reference="reference-highlight">ReferralAgency.cs</em>
            under the Model folder.  Put this class in your <code>org.rocksolidchurch.SampleProject.Model</code> namespace
            and have it extend <code>Rock.Data.Model</code> with the type ReferralAgency and extend
            <code>Rock.Security.ISecured</code>as shown below.
            You'll also want to add the <code>[DataContract]</code> class decorator in order to explicitly
            control serialization of your class properties.
        </p>
        
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">using</span> System;
<span style="color:Blue;">using</span> System.Collections.Generic;
<span style="color:Blue;">using</span> System.Collections.ObjectModel;
<span style="color:Blue;">using</span> System.ComponentModel.DataAnnotations;
<span style="color:Blue;">using</span> System.ComponentModel.DataAnnotations.Schema;
<span style="color:Blue;">using</span> System.Data.Entity.ModelConfiguration;
<span style="color:Blue;">using</span> System.Linq;
<span style="color:Blue;">using</span> System.Runtime.Serialization;

<span style="color:Blue;">using</span> Rock.Data;
<span style="color:Blue;">using</span> Rock.Model;

<span style="color:Blue;">namespace</span> org.rocksolidchurch.SampleProject.Model
{
    [DataContract]
    <span style="color:Blue;">public</span> <span style="color:Blue;">class</span> ReferralAgency : Model&lt;ReferralAgency&gt;, IRockEntity
    {
    }
}
</pre></div>
        </div>
        
        <p>
            Before we add the properties for our class, let's tell the framework which
            table to use to store our data. Do this by adding the <code>[Table( "<em>TABLE-NAME</em>" )]</code>
            decorator above the class name.  Use proper Rock
            <a href="/developer/book/16/16#namingconventions">Naming Conventions</a>
            and name it like this:
        </p>
    
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
[Table( <span style="color:#A31515;">&quot;_org_rocksolidchurch_SampleProject_ReferralAgency&quot;</span> )]
<span style="color:Green;">// That line goes right above the class definition...</span>
[DataContract]
<span style="color:Blue;">public</span> <span style="color:Blue;">class</span> ReferralAgency : Model&lt;ReferralAgency&gt;, IRockEntity
{
    <span style="color:Green;">//...</span>
</pre></div>
        </div>

        <p>
            Now we can add properties for contact name, phone number, website, campus and 
            agency type. We're going to tie our campus and agency type properties to
            the existing Rock <em data-type="reference" data-reference="reference-highlight">Campus</em> 
            and <em data-type="reference" data-reference="reference-highlight">DefinedValue</em>
            entities.  When we do this we'll create "virtual" properties to hold the reference
            to the object and regular int properties to store the related entity object's Id.
        </p>

        <div data-type="note" data-note-type="note">
            <h1>A DefinedValue what?</h1>
            <p>
                A <em data-type="reference" data-reference="reference-highlight">DefinedValue</em>
                represents one of the possible values for a <em data-type="reference" data-reference="reference-highlight">DefinedType</em>.
                And, you can think of a DefinedType like a custom field.  You can review
                <a href="#definedtypedefinedvalue">the details about DefinedTypes</a>
                in an earlier chapter.
            </p>
            
            <p>
                In our case, we'll create a referral agency 'type' that holds our possible pre-set values
                such as counseling, financial assistance, crisis hotline, food and clothing, etc.
                Later below, we'll force the block that manages our agencies to only use this
                particular DefinedType when setting the <em>type</em> of an agency.
            </p>
        </div>
    
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">public</span> <span style="color:Blue;">class</span> ReferralAgency : Model&lt;ReferralAgency&gt;, IRockEntity
{
    <span style="color:Green;">// Now we&#39;ll add all our classes properties</span>
    <span style="color:Green;">// except Id, Guid, CreatedByPersonAliasId, CreatedDateTime, </span>
    <span style="color:Green;">// ModifiedByPersonAliasId, and ModifiedDateTime because</span>
    <span style="color:Green;">// the Rock base Model class implements them for all models.</span>

    [MaxLength( 100 )]
    [Required( ErrorMessage = <span style="color:#A31515;">&quot;Name is required&quot;</span> )]
    [DataMember]
    <span style="color:Blue;">public</span> <span style="color:Blue;">string</span> Name { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
    
    [DataMember]
    <span style="color:Blue;">public</span> <span style="color:Blue;">string</span> Description { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
    
    [MaxLength( 100 )]
    [DataMember]
    <span style="color:Blue;">public</span> <span style="color:Blue;">string</span> ContactName { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
    
    [MaxLength( 100 )]
    [DataMember]
    <span style="color:Blue;">public</span> <span style="color:Blue;">string</span> PhoneNumber { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
    
    [MaxLength( 100 )]
    [DataMember]
    <span style="color:Blue;">public</span> <span style="color:Blue;">string</span> Website { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
    
    [DataMember]
    <span style="color:Blue;">public</span> <span style="color:Blue;">int</span>? CampusId { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
    
    [DataMember]
    <span style="color:Blue;">public</span> <span style="color:Blue;">int</span>? AgencyTypeValueId { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
    
    <span style="color:Blue;">public</span> <span style="color:Blue;">virtual</span> Campus Campus { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
    
    [DataMember]
    <span style="color:Blue;">public</span> <span style="color:Blue;">virtual</span> DefinedValue AgencyTypeValue { <span style="color:Blue;">get</span>; <span style="color:Blue;">set</span>; }
    
    <span style="color:Green;">//...</span>
}
</pre></div>
        </div>
        
        <p>
            That's all there is to our class, but we do need a configuration class that tells
            <a href="http://msdn.microsoft.com/en-us/data/jj591620.aspx">Entity Framework</a>
            how the virtual Campus and AgencyTypeValue properties relate to the int
            properties of our class.  Just add this to the
            <em data-type="reference" data-reference="reference-highlight">ReferralAgency.cs</em> file
            just after the closing brace of your class (but before the closing brace of the namespace).
        </p>
        
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">public</span> <span style="color:Blue;">partial</span> <span style="color:Blue;">class</span> ReferralAgencyConfiguration : EntityTypeConfiguration&lt;ReferralAgency&gt;
{
    <span style="color:Blue;">public</span> ReferralAgencyConfiguration()
    {
        <span style="color:Blue;">this</span>.HasOptional( r =&gt; r.Campus ).WithMany().HasForeignKey( r =&gt; r.CampusId).WillCascadeOnDelete( <span style="color:Blue;">false</span> );
        <span style="color:Blue;">this</span>.HasOptional( r =&gt; r.AgencyTypeValue ).WithMany().HasForeignKey( p =&gt; p.AgencyTypeValueId ).WillCascadeOnDelete( <span style="color:Blue;">false</span> );
        
        <span style="color:Green;">// IMPORTANT!!</span>
        <span style="color:Blue;">this</span>.HasEntitySetName( <span style="color:#A31515;">&quot;ReferralAgency&quot;</span> );
    }
}
</pre></div>
        </div>

        <div data-type="note" data-note-type="note">
            <h1>Note:</h1>
            <p>
                If you're new to the Entity Framework and you want to learn more about what's
                going on behind the scenes in Rock, you should read the 
                <a href="http://msdn.microsoft.com/en-us/ee712907">Get Started with Entity Framework</a>
                and/or the <a href="http://msdn.microsoft.com/en-us/jj729737">Working With DbContext</a> MSDN articles.

            </p>
        </div>

    </section>

	<section data-type="sect1">
		<h1><a name='step3serviceclass' href='#step3serviceclass' class='book-link'><i class='fa fa-link'></i></a>Step 3 - Service Class</h1>
		<p>
		    Now we'll create a
		    <code>ReferralAgencyService</code> class which extends the <code>Rock.Data.Service</code> 
		    and uses the RockContext to communicate with the database.
		    This is the class that you'll use in your blocks to fetch and store the referral agencies.
		    Don't worry if this seems complicated to understand. This is just boilerplate
            code that you don't really have to worry too much about.  It just glues our models to Rock's models.
		</p>
        
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">using</span> Rock.Data;

<span style="color:Blue;">namespace</span> org.rocksolidchurch.SampleProject.Model
{
    <span style="color:Blue;">public</span> <span style="color:Blue;">class</span> ReferralAgencyService : Service&lt;ReferralAgency&gt;
    {
        <span style="color:Blue;">public</span> ReferralAgencyService( RockContext context ) : <span style="color:Blue;">base</span>( context ) { }

        <span style="color:Blue;">public</span> <span style="color:Blue;">bool</span> CanDelete( ReferralAgency item, <span style="color:Blue;">out</span> <span style="color:Blue;">string</span> errorMessage )
        {
            errorMessage = <span style="color:Blue;">string</span>.Empty;
            <span style="color:Blue;">return</span> <span style="color:Blue;">true</span>;
        }
    }
}
</pre></div>
        </div>
        
        <p>
            It's pretty hard to believe, but that's really all there is to it.  Rock's
            Entity Framework and LINQ does all the heavy lifting.  Now, if you wanted
            to implement a method that only fetches a very specific set of data
            using your own custom LINQ, this is where you would put it.
        </p>
        
        <p>
            Let's also create a constant to use in our code to
            refer to our new referral agency type
            <em data-type="reference" data-reference="reference-highlight">DefinedType</em>.
            We'll put these into a static class called DefinedType in our
            <code>org.rocksolidchurch.SampleProject.SystemGuid</code> namespace under the 
            <em data-type="reference" data-reference="reference-highlight">SystemGuid</em>
            folder in our project.
        </p>
        
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">using</span> System;

<span style="color:Blue;">namespace</span> org.rocksolidchurch.SampleProject.SystemGuid
{
    <span style="color:Blue;">public</span> <span style="color:Blue;">static</span> <span style="color:Blue;">class</span> DefinedType
    {
        <span style="color:Gray;">///</span> <span style="color:Gray;">&lt;summary&gt;</span>
        <span style="color:Gray;">///</span><span style="color:Green;"> Types of Referral Agencies</span>
        <span style="color:Gray;">///</span> <span style="color:Gray;">&lt;/summary&gt;</span>
        <span style="color:Blue;">public</span> <span style="color:Blue;">const</span> <span style="color:Blue;">string</span> REFERRAL_AGENCY_TYPE = <span style="color:#A31515;">&quot;150478D4-3709-4543-906F-1F9496B4E7D0&quot;</span>;
    }
}
</pre></div>
        </div>
        
        <div data-type="note" data-note-type="note">
            <h1>Note on Guids</h1>
            <p>
                The Guid you generate for your constants are permanent and they
                will follow your application wherever it goes. 
                You will include them (along with any other data that's needed
                in your new application) in something called a data "migration".
                Rock uses your data migration when it installs your application into
                Rock. You'll learn more about data migrations later.
            </p>
            <p>
                You can
                <a href="http://www.uuidgenerator.net/version4">generate Guids</a>
                any way you wish as long as they're unique.
            </p>
        </div>
        
        <p>
            Check your work by building the project in Visual Studio. <kbd>Ctrl+Shift+B</kbd>
        </p>
        
        <p>
            Now go to the RockWeb/bin folder and add a reference to your new 
            org.rocksolidchurch.SampleProject project.
        </p>
        
        <p>
            In the next section we'll use what we learned in the previous guides to build blocks
            to add and edit agencies and to list them. 
        </p>
	</section>
    
	<section data-type="sect1">
		<h1><a name='step4backtoblocksreferralagencydetailblock' href='#step4backtoblocksreferralagencydetailblock' class='book-link'><i class='fa fa-link'></i></a>Step 4 - Back to Blocks: ReferralAgencyDetail Block</h1>
		<p>
		    Following the Rock block convention, we need a block to add/view/edit an agency and
		    one block to show the list of agencies.  We'll also make these blocks follow common
		    Rock UI patterns.
		</p>
		
		<p>
		    Find your <em data-type="reference" data-reference="reference-highlight">
            RockWeb\Plugins\org_rocksolidchurch\SampleProject</em> folder and
            create a <code>ReferralAgencyDetail</code> web usercontrol with an
            asp:UpdatePanel and with the necessary <code>using</code> statements
            to include your new data and model classes as shown here:
		</p>

        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">using</span> System;
<span style="color:Blue;">using</span> System.Collections.Generic;
<span style="color:Blue;">using</span> System.ComponentModel;
<span style="color:Blue;">using</span> System.Linq;
<span style="color:Blue;">using</span> System.Web.UI;

<span style="color:Blue;">using</span> Rock;
<span style="color:Blue;">using</span> Rock.Constants;
<span style="color:Blue;">using</span> Rock.Data;
<span style="color:Blue;">using</span> Rock.Model;
<span style="color:Blue;">using</span> Rock.Web.Cache;
<span style="color:Blue;">using</span> Rock.Web.UI;
<span style="color:Blue;">using</span> Rock.Web.UI.Controls;
<span style="color:Blue;">using</span> Rock.Attribute;

<span style="color:Blue;">using</span> org.rocksolidchurch.SampleProject.Model;

<span style="color:Blue;">namespace</span> RockWeb.Plugins.org_rocksolidchurch.SampleProject
{
    [DisplayName( <span style="color:#A31515;">&quot;Referral Agency Detail&quot;</span> )]
    [Category( <span style="color:#A31515;">&quot;rocksolidchurch &gt; Sample Project&quot;</span> )]
    [Description( <span style="color:#A31515;">&quot;Displays the details of a Referral Agency.&quot;</span> )]

    <span style="color:Blue;">public</span> <span style="color:Blue;">partial</span> <span style="color:Blue;">class</span> ReferralAgencyDetail : Rock.Web.UI.RockBlock
    {
    }
}
</pre></div>
        </div>
    
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
<span style="background-color:Yellow;">&lt;%</span><span style="color:Blue;">@</span> <span style="color:#A31515;">Control</span> <span style="color:Red;">Language</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;C#&quot;</span> <span style="color:Red;">AutoEventWireup</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;true&quot;</span> <span style="color:Red;">CodeFile</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;ReferralAgencyDetail.ascx.cs&quot;</span> 
            <span style="color:Red;">Inherits</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;RockWeb.Plugins.org_rocksolidchurch.SampleProject.ReferralAgencyDetail&quot;</span> <span style="background-color:Yellow;">%&gt;</span>
<span style="color:Blue;">&lt;</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">UpdatePanel</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;upnlContent&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span><span style="color:Blue;">&gt;</span>
    <span style="color:Blue;">&lt;</span><span style="color:#A31515;">ContentTemplate</span><span style="color:Blue;">&gt;</span>

        <span style="color:Blue;">&lt;</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">Panel</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;pnlDetails&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">Visible</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;false&quot;</span><span style="color:Blue;">&gt;</span>

        <span style="color:Blue;">&lt;/</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">Panel</span><span style="color:Blue;">&gt;</span>

    <span style="color:Blue;">&lt;/</span><span style="color:#A31515;">ContentTemplate</span><span style="color:Blue;">&gt;</span>
<span style="color:Blue;">&lt;/</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">UpdatePanel</span><span style="color:Blue;">&gt;</span>
</pre></div>
        </div>
        
        <section data-type="sect2">
		    <h2>Markup (ReferralAgencyDetail.ascx)</h2>
		
            <p>
                This block will show the details of a selected agency, so
                we need some usercontrols and markup inside the pnlDetails panel of our .ascx to display:
                <ul>
                    <li>a hidden field to keep track of the id of the agency</li>
                    <li>the action the user's performing</li>
                    <li>a validation summary area</li>
                    <li>notification boxes for a possible warning/error and edit mode message</li>
                    <li>a field for each of our agency's properties</li>
                    <li>the save and cancel action buttons</li>
                </ul>
            </p>
            
            <p>
                Rock comes with a variety of user controls we'll use for making perfectly styled
                form fields.
                Use the <code>Rock:NotificationBox</code> for the notification boxes, a
                <code>Rock:CampusPicker</code> for the campus selector and <code>Rock:DataTextBox</code>
                for most of the remaining property fields.  
                The generic <code>Rock:DataDropDownList</code> will be good to use for selecting the
                agency type.
            </p>
            
            <div data-type="note" data-note-type="tip">
                <h1>Validation Tip!</h1>
                <p> 
                    The DataTextBox is great because it can perform automatic validation based on your 
                    entity model.  So, if you have a <code>[MaxLength( 100 )]</code> attribute 
                    decorator on your Name property, it won't let the user enter more than 100 characters.
                </p>
            </div>

            
            <figure>
                <figcaption>ReferralAgencyDetail</figcaption>
                <a href='' class='book-image'><img src="https://rockrms.blob.core.windows.net/documentation/Books/17/1.1.0/images/saving-custom-data-agency-detail-1.png" alt="The 'detail' block for referral agencies"></a>
            
                <dl class="callout-key">
                    <dt><span class="callout-number accent-bold-color">1</span> Action Title Banner</dt>
                    <dd>Shows the action and the name of the item being edited.</dd>
            
                     <dt><span class="callout-number accent-bold-color">2</span> Validation and Notification Area</dt>
                     <dd>Displays any validation errors and edit or warning messages.</dd>
            
                     <dt><span class="callout-number accent-bold-color">3</span> Form Fields</dt>
                     <dd>The main area for the edit fields.</dd>
            
                     <dt><span class="callout-number accent-bold-color">4</span> Action Buttons</dt>
                     <dd>Location for the save, cancel, done, etc. buttons.</dd>
                </dl>
            </figure>
            
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">&lt;</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">HiddenField</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;hfReferralAgencyId&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Blue;">/&gt;</span>

<span style="color:Blue;">&lt;</span><span style="color:#A31515;">div</span> <span style="color:Red;">class</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;banner&quot;</span><span style="color:Blue;">&gt;</span>
    <span style="color:Blue;">&lt;</span><span style="color:#A31515;">h1</span><span style="color:Blue;">&gt;</span><span style="color:Blue;">&lt;</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">Literal</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;lActionTitle&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Blue;">/&gt;</span><span style="color:Blue;">&lt;/</span><span style="color:#A31515;">h1</span><span style="color:Blue;">&gt;</span>
<span style="color:Blue;">&lt;/</span><span style="color:#A31515;">div</span><span style="color:Blue;">&gt;</span>

<span style="color:Blue;">&lt;</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">ValidationSummary</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;valSummaryTop&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">HeaderText</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Please Correct the Following&quot;</span> <span style="color:Red;">CssClass</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;alert alert-danger&quot;</span> <span style="color:Blue;">/&gt;</span>
<span style="color:Blue;">&lt;</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">NotificationBox</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;nbWarningMessage&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">NotificationBoxType</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Warning&quot;</span> <span style="color:Blue;">/&gt;</span>
<span style="color:Blue;">&lt;</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">NotificationBox</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;nbEditModeMessage&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">NotificationBoxType</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Info&quot;</span> <span style="color:Blue;">/&gt;</span>

<span style="color:Blue;">&lt;</span><span style="color:#A31515;">div</span> <span style="color:Red;">class</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;row&quot;</span><span style="color:Blue;">&gt;</span>
    <span style="color:Blue;">&lt;</span><span style="color:#A31515;">div</span> <span style="color:Red;">class</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;col-md-6&quot;</span><span style="color:Blue;">&gt;</span>
        <span style="color:Blue;">&lt;</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">DataTextBox</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;tbName&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">SourceTypeName</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;org.rocksolidchurch.SampleProject.Model.ReferralAgency, org.rocksolidchurch.SampleProject&quot;</span> <span style="color:Red;">PropertyName</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Name&quot;</span> <span style="color:Blue;">/&gt;</span>
    <span style="color:Blue;">&lt;/</span><span style="color:#A31515;">div</span><span style="color:Blue;">&gt;</span>
    <span style="color:Blue;">&lt;</span><span style="color:#A31515;">div</span> <span style="color:Red;">class</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;col-md-6&quot;</span><span style="color:Blue;">&gt;</span>
    <span style="color:Blue;">&lt;/</span><span style="color:#A31515;">div</span><span style="color:Blue;">&gt;</span>
<span style="color:Blue;">&lt;/</span><span style="color:#A31515;">div</span><span style="color:Blue;">&gt;</span>

<span style="color:Blue;">&lt;</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">DataTextBox</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;tbDescription&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">SourceTypeName</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;org.rocksolidchurch.SampleProject.Model.ReferralAgency, org.rocksolidchurch.SampleProject&quot;</span> <span style="color:Red;">PropertyName</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Description&quot;</span> <span style="color:Red;">TextMode</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;MultiLine&quot;</span> <span style="color:Red;">Rows</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;4&quot;</span> <span style="color:Blue;">/&gt;</span>

<span style="color:Blue;">&lt;</span><span style="color:#A31515;">div</span> <span style="color:Red;">class</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;row&quot;</span><span style="color:Blue;">&gt;</span>
    <span style="color:Blue;">&lt;</span><span style="color:#A31515;">div</span> <span style="color:Red;">class</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;col-md-6&quot;</span><span style="color:Blue;">&gt;</span>
        <span style="color:Blue;">&lt;</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">CampusPicker</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;cpCampus&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">Label</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Campus&quot;</span> <span style="color:Blue;">/&gt;</span>
        <span style="color:Blue;">&lt;</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">DefinedValuePicker</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;dvpAgencyType&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">Label</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Agency Type&quot;</span> <span style="color:Blue;">/&gt;</span>
    <span style="color:Blue;">&lt;/</span><span style="color:#A31515;">div</span><span style="color:Blue;">&gt;</span>
    <span style="color:Blue;">&lt;</span><span style="color:#A31515;">div</span> <span style="color:Red;">class</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;col-md-6&quot;</span><span style="color:Blue;">&gt;</span>
        <span style="color:Blue;">&lt;</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">DataTextBox</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;tbContactName&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">SourceTypeName</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;org.rocksolidchurch.SampleProject.Model.ReferralAgency, org.rocksolidchurch.SampleProject&quot;</span> <span style="color:Red;">PropertyName</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;ContactName&quot;</span> <span style="color:Blue;">/&gt;</span>
        <span style="color:Blue;">&lt;</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">DataTextBox</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;tbPhoneNumber&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">SourceTypeName</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;org.rocksolidchurch.SampleProject.Model.ReferralAgency, org.rocksolidchurch.SampleProject&quot;</span> <span style="color:Red;">PropertyName</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;PhoneNumber&quot;</span> <span style="color:Blue;">/&gt;</span>
        <span style="color:Blue;">&lt;</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">DataTextBox</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;tbWebsite&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">SourceTypeName</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;org.rocksolidchurch.SampleProject.Model.ReferralAgency, org.rocksolidchurch.SampleProject&quot;</span> <span style="color:Red;">PropertyName</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Website&quot;</span> <span style="color:Blue;">/&gt;</span>
    <span style="color:Blue;">&lt;/</span><span style="color:#A31515;">div</span><span style="color:Blue;">&gt;</span>
<span style="color:Blue;">&lt;/</span><span style="color:#A31515;">div</span><span style="color:Blue;">&gt;</span>

<span style="color:Blue;">&lt;</span><span style="color:#A31515;">div</span> <span style="color:Red;">class</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;actions&quot;</span><span style="color:Blue;">&gt;</span>
    <span style="color:Blue;">&lt;</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">LinkButton</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;btnSave&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">Text</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Save&quot;</span> <span style="color:Red;">CssClass</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;btn btn-primary&quot;</span> <span style="color:Red;">OnClick</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;btnSave_Click&quot;</span> <span style="color:Blue;">/&gt;</span>
    <span style="color:Blue;">&lt;</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">LinkButton</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;btnCancel&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">Text</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Cancel&quot;</span> <span style="color:Red;">CssClass</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;btn btn-link&quot;</span> <span style="color:Red;">CausesValidation</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;false&quot;</span> <span style="color:Red;">OnClick</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;btnCancel_Click&quot;</span> <span style="color:Blue;">/&gt;</span>
<span style="color:Blue;">&lt;/</span><span style="color:#A31515;">div</span><span style="color:Blue;">&gt;</span>
</pre></div>
            </div>
            
            <p>
                Now the real coding begins.
            </p>
	    </section>
	    
        <section data-type="sect2">
		    <h2>Code (ReferralAgencyDetail.ascx.cs)</h2>
		
            <p>
                Create an <code>OnInit</code> method and add the code to bind our
                agency type drop-down list to the particular referral agency type
                <em data-type="reference" data-reference="reference-highlight">DefinedType</em>
                that we defined in our <code>org.rocksolidchurch.SystemGuid.REFERRAL_AGENCY_TYPE</code>
                constant.  We'll read it from Rock's cache for increased performance.
            </p>
            
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">protected</span> <span style="color:Blue;">override</span> <span style="color:Blue;">void</span> OnInit( EventArgs e )
{
    <span style="color:Blue;">base</span>.OnInit( e );

    <span style="color:Blue;">this</span>.BlockUpdated += Block_BlockUpdated;
    <span style="color:Blue;">this</span>.AddConfigurationUpdateTrigger( upnlContent );

    <span style="color:Blue;">var</span> definedType = DefinedTypeCache.Get( org.rocksolidchurch.SampleProject.SystemGuid.DefinedType.REFERRAL_AGENCY_TYPE.AsGuid() );
    <span style="color:Blue;">if</span> (definedType != <span style="color:Blue;">null</span>)
    {
        dvpAgencyType.DefinedTypeId = definedType.Id;
    }
}

<span style="color:Blue;">protected</span> <span style="color:Blue;">void</span> Block_BlockUpdated( <span style="color:Blue;">object</span> sender, EventArgs e )
{
    ShowDetail();
}
</pre></div>
            </div>
        
            <p>
                In the <code>OnLoad</code> event we'll just bind the campuses to the campus picker and then 
                call a <code>ShowDetail()</code> method that we will create next to show all the details
                of the selected agency.
            </p>
        
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">protected</span> <span style="color:Blue;">override</span> <span style="color:Blue;">void</span> OnLoad( EventArgs e )
{
    <span style="color:Blue;">base</span>.OnLoad( e );

    <span style="color:Blue;">if</span> ( !Page.IsPostBack )
    {
        <span style="color:Blue;">var</span> campuses = CampusCache.All();
        cpCampus.Campuses = campuses;
        cpCampus.Visible = campuses.Any();

        ShowDetail();
    }
}
</pre></div>
            </div>
        
            <p>
                The <code>ShowDetail()</code> will need to:
                <ul>
                    <li>Fetch agency id given in the querystring.  Use the <code>PageParameter</code> method to do this.</li>
                    <li>Load the agency object using our <em data-type="reference" data-reference="reference-highlight">ReferralAgencyService</em>
                    class</li>
                    <li>Set the page and action title on the page.</li>
                    <li>Bind the hidden id value and all the edit field values to the respective agency property values.</li>
                    <li>Check the viewer's <em data-type="reference" data-reference="reference-highlight">EDIT</em> authorization.</li>
                    <li>If not authorized to edit, display the read-only notification box, set the edit fields <code>ReadOnly</code>,
                        property to true and hide the <span data-type="action" data-action="action-rock-button">Save</span> button.
                    </li>
                </ul>
            </p>
            
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">private</span> ReferralAgency _referralAgency = <span style="color:Blue;">null</span>;

<span style="color:Blue;">private</span> <span style="color:Blue;">void</span> ShowDetail()
{
    pnlDetails.Visible = <span style="color:Blue;">true</span>;

    <span style="color:Blue;">int</span>? referralAgencyId = PageParameter( <span style="color:#A31515;">&quot;referralAgencyId&quot;</span> ).AsIntegerOrNull();
    <span style="color:Blue;">int</span>? campusId = PageParameter( <span style="color:#A31515;">&quot;campusId&quot;</span> ).AsIntegerOrNull();
    <span style="color:Blue;">int</span>? agencyTypeValueId = PageParameter( <span style="color:#A31515;">&quot;agencyTypeId&quot;</span> ).AsIntegerOrNull();

    ReferralAgency referralAgency = <span style="color:Blue;">null</span>;
    <span style="color:Blue;">if</span> (referralAgencyId.HasValue)
    {
        referralAgency = _referralAgency ?? <span style="color:Blue;">new</span> ReferralAgencyService( <span style="color:Blue;">new</span> RockContext() ).Get( referralAgencyId.Value );
    }

    <span style="color:Blue;">if</span> (referralAgency != <span style="color:Blue;">null</span>)
    {
        RockPage.PageTitle = referralAgency.Name;
        lActionTitle.Text = ActionTitle.Edit( referralAgency.Name ).FormatAsHtmlTitle();
    }
    <span style="color:Blue;">else</span>
    {
        referralAgency = <span style="color:Blue;">new</span> ReferralAgency { Id = 0, CampusId = campusId, AgencyTypeValueId = agencyTypeValueId };
        RockPage.PageTitle = ActionTitle.Add( ReferralAgency.FriendlyTypeName );
        lActionTitle.Text = ActionTitle.Add( ReferralAgency.FriendlyTypeName ).FormatAsHtmlTitle();
    }

    hfReferralAgencyId.Value = referralAgency.Id.ToString();
    tbName.Text = referralAgency.Name;
    tbDescription.Text = referralAgency.Description;
    cpCampus.SelectedCampusId = referralAgency.CampusId;
    dvpAgencyType.SetValue( referralAgency.AgencyTypeValueId );
    tbContactName.Text = referralAgency.ContactName;
    tbPhoneNumber.Text = referralAgency.PhoneNumber;
    tbWebsite.Text = referralAgency.Website;

    <span style="color:Blue;">bool</span> readOnly = <span style="color:Blue;">false</span>;

    nbEditModeMessage.Text = <span style="color:Blue;">string</span>.Empty;
    <span style="color:Blue;">if</span> ( !IsUserAuthorized(Rock.Security.Authorization.EDIT) )
    {
        readOnly = <span style="color:Blue;">true</span>;
        nbEditModeMessage.Text = EditModeMessage.ReadOnlyEditActionNotAllowed( ReferralAgency.FriendlyTypeName );
    }
    
    <span style="color:Blue;">if</span> (readOnly)
    {
        lActionTitle.Text = ActionTitle.View( ReferralAgency.FriendlyTypeName );
        btnCancel.Text = <span style="color:#A31515;">&quot;Close&quot;</span>;
    }

    tbName.ReadOnly = readOnly;
    tbDescription.ReadOnly = readOnly;
    tbContactName.ReadOnly = readOnly;
    tbPhoneNumber.ReadOnly = readOnly;
    tbWebsite.ReadOnly = readOnly;

    btnSave.Visible = !readOnly;
}
</pre></div>
            </div>
            <p>
                You may have noticed we also declared a new <code>_referralAgency</code> private
                ReferralAgency property for this block, and we try getting the agency object from
                there first before we attempt to load it using our ReferralAgencyService.  We're
                doing this for performance reasons.  As you'll see in a few minutes, we may have
                already loaded it inside the <code>GetBreadCrumbs</code> method we're going to create.
            </p>
            <p>
                Now let's write the <code>btnSave_Click</code> code that handles the
                <span data-type="action" data-action="action-rock-button">Save</span> button click event.
                In here we need to:
                <ul>
                    <li>Create a database context. We'll use this dataContext with our ReferralAgencyService
                        to save the changes we're about to make to a referral agency.
                    </li>
                    <li>If we're editing a new agency we use the service's <code>.Add(object)</code>
                        method, otherwise we fetch the agency fresh from the database using the
                           service's <code>.Get(int)</code> method.
                    </li>
                    <li>Set the agency's property values using the values in the edit fields.</li>
                    <li>Check to see if the agency is valid and the page is also valid.</li>
                    <li>Save our changes to the database and navigate back to the parent page.</li>
                </ul>
            </p>
            
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">protected</span> <span style="color:Blue;">void</span> btnSave_Click( <span style="color:Blue;">object</span> sender, EventArgs e )
{
    ReferralAgency referralAgency;
    <span style="color:Blue;">var</span> dataContext = <span style="color:Blue;">new</span> RockContext();
    <span style="color:Blue;">var</span> service = <span style="color:Blue;">new</span> ReferralAgencyService( dataContext );

    <span style="color:Blue;">int</span> referralAgencyId = <span style="color:Blue;">int</span>.Parse( hfReferralAgencyId.Value );

    <span style="color:Blue;">if</span> ( referralAgencyId == 0 )
    {
        referralAgency = <span style="color:Blue;">new</span> ReferralAgency();
        service.Add( referralAgency );
    }
    <span style="color:Blue;">else</span>
    {
        referralAgency = service.Get( referralAgencyId );
    }

    referralAgency.Name = tbName.Text;
    referralAgency.Description = tbDescription.Text;
    referralAgency.CampusId = cpCampus.SelectedCampusId;
    referralAgency.AgencyTypeValueId = dvpAgencyType.SelectedValueAsId();
    referralAgency.ContactName = tbContactName.Text;
    referralAgency.PhoneNumber = tbPhoneNumber.Text;
    referralAgency.Website = tbWebsite.Text;

    <span style="color:Blue;">if</span> ( !referralAgency.IsValid || !Page.IsValid )
    {
        <span style="color:Green;">// Controls will render the error messages</span>
        <span style="color:Blue;">return</span>;
    }

    dataContext.SaveChanges();

    NavigateToParentPage();

}
</pre></div>
            </div>
            
            <p>
                Let's tap into <a href="/developer/book/16/16#usingbreadcrumbs">Rock's breadcrumb</a>
                system. Just override the <code>GetBreadCrumbs</code> method and add the name
                of the agency we're displaying or editing into the breadcrumbs.  When we're just
                adding a new agency we'll set the crumb's name to the default 'add' action title
                for the general type name of the 
                <em data-type="reference" data-reference="reference-highlight">ReferralAgency</em>
                class.  The code looks like this:
            </p>
            
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">public</span> <span style="color:Blue;">override</span> List&lt;BreadCrumb&gt; GetBreadCrumbs( Rock.Web.PageReference pageReference )
{
    <span style="color:Blue;">var</span> breadCrumbs = <span style="color:Blue;">new</span> List&lt;BreadCrumb&gt;();

    <span style="color:Blue;">string</span> crumbName = ActionTitle.Add( ReferralAgency.FriendlyTypeName );

    <span style="color:Blue;">int</span>? referralAgencyId = PageParameter( <span style="color:#A31515;">&quot;referralAgencyId&quot;</span> ).AsIntegerOrNull();
    <span style="color:Blue;">if</span> ( referralAgencyId.HasValue )
    {
        _referralAgency = <span style="color:Blue;">new</span> ReferralAgencyService( <span style="color:Blue;">new</span> RockContext() ).Get( referralAgencyId.Value );
        <span style="color:Blue;">if</span> ( _referralAgency != <span style="color:Blue;">null</span> )
        {
            crumbName = _referralAgency.Name;
        }
    }

    breadCrumbs.Add( <span style="color:Blue;">new</span> BreadCrumb( crumbName, pageReference ) );

    <span style="color:Blue;">return</span> breadCrumbs;
}
</pre></div>
            </div>
    
            <p>
                Lastly, if someone clicks the 
                <span data-type="action" data-action="action-rock-button">Cancel</span> button
                we'll just write a handler to navigate back to the parent page.
            </p>
            
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">protected</span> <span style="color:Blue;">void</span> btnCancel_Click( <span style="color:Blue;">object</span> sender, EventArgs e )
{
    NavigateToParentPage();
}
</pre></div>
            </div>
    	</section>
    </section>
    
	<section data-type="sect1">
		<h1><a name='step5referralagencylistblock' href='#step5referralagencylistblock' class='book-link'><i class='fa fa-link'></i></a>Step 5 - ReferralAgencyList Block</h1>
		<p>
		    Now we need a block to list the agencies.
		    Find your <em data-type="reference" data-reference="reference-highlight">
            RockWeb\Plugins\org_rocksolidchurch\SampleProject</em> folder and
            create a <code>ReferralAgencyList</code> web usercontrol with an
            asp:UpdatePanel and with this template code in your code-behind file
            as shown here:
		</p>
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">using</span> System;
<span style="color:Blue;">using</span> System.Collections.Generic;
<span style="color:Blue;">using</span> System.ComponentModel;
<span style="color:Blue;">using</span> System.Linq;
<span style="color:Blue;">using</span> System.Web.UI;

<span style="color:Blue;">using</span> Rock;
<span style="color:Blue;">using</span> Rock.Attribute;
<span style="color:Blue;">using</span> Rock.Data;
<span style="color:Blue;">using</span> Rock.Model;
<span style="color:Blue;">using</span> Rock.Web.Cache;
<span style="color:Blue;">using</span> Rock.Web.UI.Controls;

<span style="color:Blue;">using</span> org.rocksolidchurch.SampleProject.Data;
<span style="color:Blue;">using</span> org.rocksolidchurch.SampleProject.Model;

<span style="color:Blue;">namespace</span> RockWeb.Plugins.org_rocksolidchurch.SampleProject
{
    [DisplayName( <span style="color:#A31515;">&quot;Referral Agency List&quot;</span> )]
    [Category( <span style="color:#A31515;">&quot;rocksolidchurch &gt; Sample Project&quot;</span> )]
    [Description( <span style="color:#A31515;">&quot;Lists all the Referral Agencies.&quot;</span> )]

    [LinkedPage( <span style="color:#A31515;">&quot;Detail Page&quot;</span> )]
    <span style="color:Blue;">public</span> <span style="color:Blue;">partial</span> <span style="color:Blue;">class</span> ReferralAgencyList : Rock.Web.UI.RockBlock
    {
    }
}
</pre></div>
        </div>
        
        <p>
            Notice that we've added a <code>LinkedPage</code> block attribute.
            Once it's on a page, we'll configure it to the page that has an
            instance of the 
            <em data-type="reference" data-reference="reference-highlight">ReferralAgencyDetail</em>
            block we just created.
        </p>
            
        <section data-type="sect2">
		    <h2>Markup (ReferralAgencyList.ascx)</h2>
            <p>
                This block will show a list of agencies, so we need a
                Grid and let's also add a GridFilter to make it easy to filter
                agencies by type. This block will also allow for:
                <ul>
                    <li>deleting agencies</li>
                    <li>navigating to an agency detail when selected</li>
                    <li>adding a new agency</li>
                    <li>saving the viewer's filter settings</li>
                </ul>
                
            </p>
		    
            <figure>
                <figcaption>ReferralAgencyList</figcaption>
                <a href='' class='book-image'><img src="https://rockrms.blob.core.windows.net/documentation/Books/17/1.1.0/images/saving-custom-data-agency-list.png" alt="The 'list' block for referral agencies"></a>
            
                <dl class="callout-key">
                    <dt><span class="callout-number accent-bold-color">1</span> Rock GridFilter</dt>
                    <dd>Collapsible region that holds the filter for the grid that includes a Rock CampusPicker and a RockDropDownList.</dd>
            
                     <dt><span class="callout-number accent-bold-color">2</span> Rock Grid</dt>
                     <dd>A Rock Grid showing a list of items.</dd>
            
                     <dt><span class="callout-number accent-bold-color">3</span> A row with ASP BoundFields</dt>
                     <dd>A selectable row showing desired BoundFields for an item and with the Grid's TooltipField set to show the item Description on hover-over.</dd>
            
                     <dt><span class="callout-number accent-bold-color">4</span> Rock DeleteField</dt>
                     <dd>Standard delete button for deleting an item in a grid row.</dd>            
                     
                     <dt><span class="callout-number accent-bold-color">5</span> Grid Action Bar</dt>
                     <dd>Location for any actions associated with the grid items including, add, export, etc.</dd>
                </dl>
            </figure>

            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="background-color:Yellow;">&lt;%</span><span style="color:Blue;">@</span> <span style="color:#A31515;">Control</span> <span style="color:Red;">Language</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;C#&quot;</span> <span style="color:Red;">AutoEventWireup</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;true&quot;</span> <span style="color:Red;">CodeFile</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;ReferralAgencyList.ascx.cs&quot;</span> <span style="color:Red;">Inherits</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;RockWeb.Plugins.org_rocksolidchurch.SampleProject.ReferralAgencyList&quot;</span> <span style="background-color:Yellow;">%&gt;</span>
<span style="color:Blue;">&lt;</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">UpdatePanel</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;upnlContent&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span><span style="color:Blue;">&gt;</span>
    <span style="color:Blue;">&lt;</span><span style="color:#A31515;">ContentTemplate</span><span style="color:Blue;">&gt;</span>

        <span style="color:Blue;">&lt;</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">GridFilter</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;gfSettings&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span><span style="color:Blue;">&gt;</span>
            <span style="color:Blue;">&lt;</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">CampusPicker</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;cpCampus&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">Label</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Campus&quot;</span> <span style="color:Blue;">/&gt;</span>
            <span style="color:Blue;">&lt;</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">DefinedValuePicker</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;dvpAgencyType&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">Label</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Agency Type&quot;</span> <span style="color:Blue;">/&gt;</span>
        <span style="color:Blue;">&lt;/</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">GridFilter</span><span style="color:Blue;">&gt;</span>

        <span style="color:Blue;">&lt;</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">ModalAlert</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;mdGridWarning&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Blue;">/&gt;</span>

        <span style="color:Blue;">&lt;</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">Grid</span> <span style="color:Red;">ID</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;gAgencies&quot;</span> <span style="color:Red;">runat</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;server&quot;</span> <span style="color:Red;">AllowSorting</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;true&quot;</span> <span style="color:Red;">OnRowSelected</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;gAgencies_Edit&quot;</span> <span style="color:Red;">TooltipField</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Description&quot;</span><span style="color:Blue;">&gt;</span>
            <span style="color:Blue;">&lt;</span><span style="color:#A31515;">Columns</span><span style="color:Blue;">&gt;</span>
                <span style="color:Blue;">&lt;</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">BoundField</span> <span style="color:Red;">DataField</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Name&quot;</span> <span style="color:Red;">HeaderText</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Agency Name&quot;</span> <span style="color:Red;">SortExpression</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Name&quot;</span> <span style="color:Blue;">/&gt;</span>
                <span style="color:Blue;">&lt;</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">BoundField</span> <span style="color:Red;">DataField</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Campus.Name&quot;</span> <span style="color:Red;">HeaderText</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Campus&quot;</span> <span style="color:Red;">SortExpression</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Campus.Name&quot;</span> <span style="color:Blue;">/&gt;</span>
                <span style="color:Blue;">&lt;</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">BoundField</span> <span style="color:Red;">DataField</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;AgencyTypeValue.Value&quot;</span> <span style="color:Red;">HeaderText</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Type&quot;</span> <span style="color:Red;">SortExpression</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;AgencyTypeValue.Value&quot;</span> <span style="color:Blue;">/&gt;</span>
                <span style="color:Blue;">&lt;</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">BoundField</span> <span style="color:Red;">DataField</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;ContactName&quot;</span> <span style="color:Red;">HeaderText</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Contact Name&quot;</span> <span style="color:Red;">SortExpression</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;ContactName&quot;</span> <span style="color:Blue;">/&gt;</span>
                <span style="color:Blue;">&lt;</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">BoundField</span> <span style="color:Red;">DataField</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;PhoneNumber&quot;</span> <span style="color:Red;">HeaderText</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Phone Number&quot;</span> <span style="color:Red;">SortExpression</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;PhoneNumber&quot;</span> <span style="color:Blue;">/&gt;</span>
                <span style="color:Blue;">&lt;</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">BoundField</span> <span style="color:Red;">DataField</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Website&quot;</span> <span style="color:Red;">HeaderText</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Website&quot;</span> <span style="color:Red;">SortExpression</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;Website&quot;</span> <span style="color:Blue;">/&gt;</span>
                <span style="color:Blue;">&lt;</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">DeleteField</span> <span style="color:Red;">OnClick</span><span style="color:Blue;">=</span><span style="color:Blue;">&quot;gAgencies_Delete&quot;</span> <span style="color:Blue;">/&gt;</span>
            <span style="color:Blue;">&lt;/</span><span style="color:#A31515;">Columns</span><span style="color:Blue;">&gt;</span>
        <span style="color:Blue;">&lt;/</span><span style="color:#A31515;">Rock</span><span style="color:Blue;">:</span><span style="color:#A31515;">Grid</span><span style="color:Blue;">&gt;</span>

    <span style="color:Blue;">&lt;/</span><span style="color:#A31515;">ContentTemplate</span><span style="color:Blue;">&gt;</span>
<span style="color:Blue;">&lt;/</span><span style="color:#A31515;">asp</span><span style="color:Blue;">:</span><span style="color:#A31515;">UpdatePanel</span><span style="color:Blue;">&gt;</span>
</pre></div>
            </div>
            
	    </section>

        <section data-type="sect2">
		    <h2>Code (ReferralAgencyList.ascx.cs)</h2>
		    
            <p>
                In the <code>OnInit</code> method we will:
                <ul>
                    <li>Check the viewer's <em data-type="reference" data-reference="reference-highlight">EDIT</em> authorization.</li>
                    <li>If authorized to edit, enable the Add button on the grid and the row's' delete item button.</li>
                    <li>
                        Register grid filter event handlers for when the
                        <span data-type="action" data-action="action-rock-button">Apply</span> button is pressed
                        and for when the grid filter summary is being built.
                    </li>
                    <li>Tell the grid which key/identifier property to use from the row's item.</li>
                    <li>Tell the grid the friendly name of the items that will be displaying.</li>
                    <li>Bind the agency types and campuses in the filter.</li>
                </ul>
            </p>
		    
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">protected</span> <span style="color:Blue;">override</span> <span style="color:Blue;">void</span> OnInit( EventArgs e )
{
    <span style="color:Blue;">base</span>.OnInit( e );

    <span style="color:Blue;">bool</span> canEdit = IsUserAuthorized( Rock.Security.Authorization.EDIT );

    gfSettings.ApplyFilterClick += gfSettings_ApplyFilterClick;
    gfSettings.DisplayFilterValue += gfSettings_DisplayFilterValue;

    gAgencies.Actions.ShowAdd = canEdit;
    gAgencies.IsDeleteEnabled = canEdit;
    gAgencies.Actions.AddClick += gAgencies_Add;
    
    gAgencies.RowItemText = <span style="color:#A31515;">&quot;Agency&quot;</span>;
    gAgencies.DataKeyNames = <span style="color:Blue;">new</span> <span style="color:Blue;">string</span>[] { <span style="color:#A31515;">&quot;id&quot;</span> };
    
    BindFilter();
}
</pre></div>
            </div>

            <p>
                The <code>BindFilter()</code> method binds the campuses to the CampusPicker control
                and the agency type drop-down list to our <code>REFERRAL_AGENCY_TYPE</code>.
            </p>
		    
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">private</span> <span style="color:Blue;">void</span> BindFilter()
{
    <span style="color:Blue;">var</span> campuses = CampusCache.All();
    cpCampus.Campuses = campuses;
    cpCampus.Visible = campuses.Any();

    <span style="color:Blue;">var</span> definedType = DefinedTypeCache.Get( org.rocksolidchurch.SampleProject.SystemGuid.DefinedType.REFERRAL_AGENCY_TYPE.AsGuid() );
    <span style="color:Blue;">if</span> ( definedType != <span style="color:Blue;">null</span> )
    {
        dvpAgencyType.DefinedTypeId = definedType.Id;
    }
}
</pre></div>
            </div>
            
            <p>
                The <code>OnLoad</code> method uses any previously saved filter
                settings to select the correct filter items before it calls
                a <code>BindGrid()</code> method.
            </p>
		    
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">protected</span> <span style="color:Blue;">override</span> <span style="color:Blue;">void</span> OnLoad( EventArgs e )
{
    <span style="color:Blue;">base</span>.OnLoad( e );

    <span style="color:Blue;">if</span> ( !Page.IsPostBack )
    {
        cpCampus.SetValue( gfSettings.GetUserPreference( <span style="color:#A31515;">&quot;Campus&quot;</span> ) );
        dvpAgencyType.SelectedValue = gfSettings.GetUserPreference( <span style="color:#A31515;">&quot;Agency Type&quot;</span> );

        BindGrid();
    }
}
</pre></div>
            </div>

            <p>
                Our <code>BindGrid()</code> method uses our
                <em data-type="reference" data-reference="reference-highlight">ReferralAgencyService</em>
                to fetch the agencies and the grid filter settings to intelligently
                exclude any that don't match our filter.  It also sorts the data
                using any sort option set on the grid by the viewer.
            </p>
		    
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">private</span> <span style="color:Blue;">void</span> BindGrid()
{
    <span style="color:Blue;">var</span> service = <span style="color:Blue;">new</span> ReferralAgencyService( <span style="color:Blue;">new</span> RockContext() );
    SortProperty sortProperty = gAgencies.SortProperty;

    <span style="color:Blue;">var</span> query = service.Queryable( <span style="color:#A31515;">&quot;Campus,AgencyTypeValue&quot;</span> );

    <span style="color:Blue;">int</span>? campusId = gfSettings.GetUserPreference( <span style="color:#A31515;">&quot;Campus&quot;</span> ).AsIntegerOrNull();
    <span style="color:Blue;">if</span> ( campusId.HasValue )
    {
        query = query.Where( a =&gt; a.CampusId == campusId.Value );
    }

    <span style="color:Blue;">int</span>? definedValueId = gfSettings.GetUserPreference( <span style="color:#A31515;">&quot;Agency Type&quot;</span> ).AsIntegerOrNull();
    <span style="color:Blue;">if</span> ( definedValueId.HasValue )
    {
        query = query.Where( a =&gt; a.AgencyTypeValueId == definedValueId.Value );
    }

    <span style="color:Green;">// Sort results</span>
    <span style="color:Blue;">if</span> ( sortProperty != <span style="color:Blue;">null</span> )
    {
        gAgencies.DataSource = query.Sort( sortProperty ).ToList();
    }
    <span style="color:Blue;">else</span>
    {
        gAgencies.DataSource = query.OrderBy( a =&gt; a.Name ).ToList();
    }

    gAgencies.DataBind();
}
</pre></div>
            </div>
            
            <p>
                We'll implement the <code>gfSettings_ApplyFilterClick</code> handler
                to save the user's filter preferences when they press the
                <span data-type="action" data-action="action-rock-button">Apply</span>
                button in the filter before calling <code>BindGrid()</code>.
            </p>
		    
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">protected</span> <span style="color:Blue;">void</span> gfSettings_ApplyFilterClick( <span style="color:Blue;">object</span> sender, EventArgs e )
{
    gfSettings.SaveUserPreference( <span style="color:#A31515;">&quot;Campus&quot;</span>, ( cpCampus.SelectedCampusId != <span style="color:Blue;">null</span> ?
        cpCampus.SelectedCampusId.Value.ToString() : <span style="color:Blue;">string</span>.Empty ) );
    gfSettings.SaveUserPreference( <span style="color:#A31515;">&quot;Agency Type&quot;</span>, dvpAgencyType.SelectedValue );

    BindGrid();
}
</pre></div>
            </div>
            
            <p>
                You wouldn't want the filter summary to show you're
                currently filtering on agency type "3", right?  For this reason, it's the
                job of the <code>gfSettings_DisplayFilterValue</code> handler
                to turn the selected <em>id</em> for each filter item into
                a user readable "name".
            </p>
		    
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">protected</span> <span style="color:Blue;">void</span> gfSettings_DisplayFilterValue( <span style="color:Blue;">object</span> sender, GridFilter.DisplayFilterValueArgs e )
{
    <span style="color:Blue;">switch</span> ( e.Key )
    {
        <span style="color:Blue;">case</span> <span style="color:#A31515;">&quot;Campus&quot;</span>:
            {
                <span style="color:Blue;">if</span> ( !<span style="color:Blue;">string</span>.IsNullOrWhiteSpace( e.Value ) )
                {
                    e.Value = CampusCache.Read( <span style="color:Blue;">int</span>.Parse( e.Value ) ).Name;
                }
                <span style="color:Blue;">break</span>;
            }

        <span style="color:Blue;">case</span> <span style="color:#A31515;">&quot;Agency Type&quot;</span>:
            {
                <span style="color:Blue;">int</span>? valueId = gfSettings.GetUserPreference( <span style="color:#A31515;">&quot;Agency Type&quot;</span> ).AsIntegerOrNull();
                <span style="color:Blue;">if</span> ( valueId.HasValue )
                {
                    <span style="color:Blue;">var</span> definedValue = DefinedValueCache.Read( valueId.Value );
                    <span style="color:Blue;">if</span> ( definedValue != <span style="color:Blue;">null</span> )
                    {
                        e.Value = definedValue.Name;
                    }
                }
                <span style="color:Blue;">break</span>;
            }

        <span style="color:Blue;">default</span>:
            {
                e.Value = <span style="color:Blue;">string</span>.Empty;
                <span style="color:Blue;">break</span>;
            }
    }
}
</pre></div>
            </div>
            
            <p>
                The <code>gAgencies_Add</code> and <code>gAgencies_Edit</code> methods
                are similar except we'll pass a "0" to the detail page when we're about to
                add a <em>new</em> agency and we'll pass the selected row's agency Id
                to edit an existing agency.
            </p>
		    
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">protected</span> <span style="color:Blue;">void</span> gAgencies_Add( <span style="color:Blue;">object</span> sender, EventArgs e )
{
    NavigateToDetailPage( 0 );
}

<span style="color:Blue;">protected</span> <span style="color:Blue;">void</span> gAgencies_Edit( <span style="color:Blue;">object</span> sender, RowEventArgs e )
{
    NavigateToDetailPage( e.RowKeyId );
}
</pre></div>
            </div>
            
            <p>
                Our <code>NavigateToDetailPage</code> method will build an
                appropriate querystring and then navigate to the detail page.
                The detail page is determined by the LinkedPage block attribute we named "DetailPage".
            </p>
		    
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">private</span> <span style="color:Blue;">void</span> NavigateToDetailPage( <span style="color:Blue;">int</span> referralAgencyId )
{
    <span style="color:Blue;">var</span> queryParams = <span style="color:Blue;">new</span> Dictionary&lt;<span style="color:Blue;">string</span>, <span style="color:Blue;">string</span>&gt;();
    queryParams.Add( <span style="color:#A31515;">&quot;referralAgencyId&quot;</span>, referralAgencyId.ToString() );
    queryParams.Add( <span style="color:#A31515;">&quot;campusId&quot;</span>, gfSettings.GetUserPreference( <span style="color:#A31515;">&quot;Campus&quot;</span> ) );
    queryParams.Add( <span style="color:#A31515;">&quot;agencyTypeId&quot;</span>, gfSettings.GetUserPreference( <span style="color:#A31515;">&quot;Agency Type&quot;</span> ) );
    NavigateToLinkedPage( <span style="color:#A31515;">&quot;DetailPage&quot;</span>, queryParams );
}
</pre></div>
            </div>
            
            <p>
                We're almost done!  The <code>gAgencies_Delete</code> handler will
                check the selected agency to verify we can delete it and show
                a warning if we can't.  Otherwise it uses a database context and our
                <em data-type="reference" data-reference="reference-highlight">ReferralAgencyService</em>
                once again but this time to delete and save the changes.
                After saving, we'll rebind the grid to reflect the change.
            </p>
		    
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">protected</span> <span style="color:Blue;">void</span> gAgencies_Delete( <span style="color:Blue;">object</span> sender, RowEventArgs e )
{
    <span style="color:Blue;">var</span> dataContext = <span style="color:Blue;">new</span> RockContext();
    <span style="color:Blue;">var</span> service = <span style="color:Blue;">new</span> ReferralAgencyService( dataContext );
    <span style="color:Blue;">var</span> referralAgency = service.Get( (<span style="color:Blue;">int</span>)e.RowKeyValue );
    <span style="color:Blue;">if</span> ( referralAgency != <span style="color:Blue;">null</span> )
    {
        <span style="color:Blue;">string</span> errorMessage;
        <span style="color:Blue;">if</span> ( !service.CanDelete( referralAgency, <span style="color:Blue;">out</span> errorMessage ) )
        {
            mdGridWarning.Show( errorMessage, ModalAlertType.Information );
            <span style="color:Blue;">return</span>;
        }

        service.Delete( referralAgency );
        dataContext.SaveChanges();
    }

    BindGrid();
}
</pre></div>
            </div>
            
            <p>
                All we have to do for our <code>gAgencies_GridRebind</code> handler
                is rebind the data to the grid.
            </p>
		    
            <div data-type="example">
                <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">protected</span> <span style="color:Blue;">void</span> gAgencies_GridRebind( <span style="color:Blue;">object</span> sender, EventArgs e )
{
    BindGrid();
}
</pre></div>
            </div>
            
	    </section>
		
	</section>

	<section data-type="sect1">
		<h1><a name='step6pageandblocksetup' href='#step6pageandblocksetup' class='book-link'><i class='fa fa-link'></i></a>Step 6 - Page and Block Setup</h1>
		<p>
		    The last thing we'll do is add two pages where we can see the
		    list of all agencies and the details for a selected (or new) agency.

            <ol>
                <li>Add a new page under your favorite test-menu-page and call it "Referral Agencies".</li>
                <li>Under it, add a child page called "Referral Agency Details".</li>
                <li>Add the ReferralAgencyDetail block to this <em data-type="reference" data-reference="reference-page">Referral Agency Details</em> page.</li>
                <li>Add the ReferralAgencyList block back on the <em data-type="reference" data-reference="reference-page">Referral Agencies</em> parent page.</li>
                <li>Configure this ReferralAgencyList block instance. Set the LinkedPage to the <em data-type="reference" data-reference="reference-page">Referral Agency Details</em> page.</li>
                <li><i>Don't try to load the block yet- you may need to include a migration that we'll cover in the next section to avoid getting an exception</i></li>
            </ol>
		</p>
		
		<p>
		    This is a very common parent-child page pattern in Rock. It makes the navigation between list and detail
		    a predictable and easy thing to code using the <code>NavigateToParentPage()</code>
		    method.
		</p>
		
	</section>

    <div data-type="note" data-note-type="note">
        <h1>Need code?</h1>
        <p>
            The code for this chapter is already in your Rockit SDK. You're welcome. :)
        </p>
    </div>
    
</section><section data-type="chapter" id="the-data-migration"><h1><a name='thedatamigration' href='#thedatamigration' class='book-link'><i class='fa fa-link'></i></a>The Data Migration</h1>

    <p>
        There's one more important piece of the puzzle.
        It's the part that adds any new tables, schema,
        and data to the database needed for your plugin/application.  We
        call them <em>data migrations</em>.
    </p>

    <p>
        If you had tried running the example code from the previous chapter
        without the corresponding data migration, you would have run into
        trouble.  We sorta snuck them in there for you, but now
        it's time to learn how to handle this yourself.
    </p>
    
    <section data-type="sect1">

        <h1><a name='behindthescenes' href='#behindthescenes' class='book-link'><i class='fa fa-link'></i></a>Behind the Scenes</h1>
        <p>
            When Rock starts it looks for any 
            <em data-type="reference" data-reference="reference-highlight">Migration</em>
            classes inside any plugin assemblies.  Without
            trying to explain all the magic that goes on, let's just 
            say it figures which ones have not yet been run and
            calls their <code>Up()</code> methods.
        </p>
        
        <p>All you really need to know is:
            <ul>
                <li>Migrations are ordered.</li>
                <li>Migrations can be marked to require a minimum version of Rock.</li>
                <li>Migrations must have an <code>Up()</code> and a <code>Down()</code> method.</li>
                <li>Your <code>Up()</code> method must add any needed tables and data.</li>
                <li>Your <code>Down()</code> method must remove any corresponding data and tables it added.</li>
                <li>You should not use a RockContext to accomplish any of your data movement.</li>
            </ul>
        </p>

        <div data-type="note" data-note-type="caution">
            <h1>RockContext</h1>
            <p>
                This rule is 100% true for the core Entity Framework migrations but we've had
                mixed concerns with trying to use a RockContext in a plugin migration.  So,
                we highly advise not doing it because it may not work in the future.
            </p>
        </div>
            
    </section>

    <section data-type="sect1">

        <h1><a name='anatomyofamigration' href='#anatomyofamigration' class='book-link'><i class='fa fa-link'></i></a>Anatomy of a Migration</h1>
        <p>
            Migrations should be added into your
            org.rocksolidchurch.SampleProject under the 
            <em data-type="reference" data-reference="reference-highlight">Migrations</em> 
            folder. They should also follow the 000_ClassName.cs naming convention
            so they are sorted in your folder appropriately.
        </p>
        
        <p>
            The class name may be what ever you wish but it must
            extend Rock's base <code>Rock.Plugin.Migration</code> class
            as seen here:
        </p>
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">namespace</span> org.rocksolidchurch.SampleProject.Migrations
{
    [MigrationNumber( 1, <span style="color:#A31515;">&quot;1.0.13&quot;</span> )]
    <span style="color:Blue;">public</span> <span style="color:Blue;">class</span> CreateDb : Migration
    {
        <span style="color:Blue;">public</span> <span style="color:Blue;">override</span> <span style="color:Blue;">void</span> Up()
        {
            Sql( <span style="color:#A31515;">@&quot;...&quot;</span> );
        }

        <span style="color:Blue;">public</span> <span style="color:Blue;">override</span> <span style="color:Blue;">void</span> Down()
        {
            Sql( <span style="color:#A31515;">@&quot;...&quot;</span> );
        }
    }
}
</pre></div>
        </div>
        
        <p>
            The <code>[MigrationNumber(1, "1.0.13")]</code> indicates it
            is the first migration and it requires Rock version 1.0.13
            in order to be installed.
        </p>
        
        <p data-update-tag="1.2.0">
            You can include any general SQL statements in the <code>Sql( string )</code>
            calls and you can also use one of the many helper methods Rock has for
            adding pages, adding blocks, attributes, entities, etc.  You'll find
            a list in the
            <a href="/developer/book/16/16#datamigrationhelpermethods">Data Migration Helper Methods</a>
            section of the next book or by examining the methods in the 
            <em data-type="reference" data-reference="reference-highlight">RockMigrationHelper</em> 
            class.
        </p>
        
    </section>
    
    <section data-type="sect1">

        <h1><a name='001_createdbmigration' href='#001_createdbmigration' class='book-link'><i class='fa fa-link'></i></a>001_CreateDb Migration</h1>
        <p>
            For our ReferralAgency class we created
            a migration to add a new table, columns, constraints and foreign
            key references as seen in this <code>Up()</code> method below.
        </p>
        
        <p>
            You will notice several columns listed below that were not part of the model we defined.
            Properties for each of these comes from the Rock base Model class and they are required
            to be defined in your table's columns:
            <ul>
                <li>Id [int] IDENTITY(1,1) NOT NULL     </li>
                <li>Guid [uniqueidentifier] NOT NULL    </li>
                <li>CreatedDateTime [datetime] NULL     </li>
                <li>ModifiedDateTime [datetime] NULL    </li>
                <li>CreatedByPersonAliasId [int] NULL   </li>
                <li>ModifiedByPersonAliasId [int] NULL  </li>
                <li>ForeignKey [nvarchar](50) NULL       </li>
                <li>ForeignGuid [uniqueidentifier](50) NULL </li>
                <li>ForeignId [nvarchar](50) NULL       </li>
            </ul>
        </p>
        
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">public</span> <span style="color:Blue;">override</span> <span style="color:Blue;">void</span> Up()
{
        Sql( <span style="color:#A31515;">@&quot;
CREATE TABLE [dbo].[_org_rockSolidChurch_SampleProject_ReferralAgency](
    [Id] [int] IDENTITY(1,1) NOT NULL,
    [Name] [nvarchar](100) NOT NULL,
    [Description] [nvarchar](max) NULL,
    [ContactName] [nvarchar](100) NULL,
    [PhoneNumber] [nvarchar](100) NULL,
    [Website] [nvarchar](100) NULL,
    [CampusId] [int] NULL,
    [AgencyTypeValueId] [int] NULL,
    [Guid] [uniqueidentifier] NOT NULL,
    [CreatedDateTime] [datetime] NULL,
    [ModifiedDateTime] [datetime] NULL,
    [CreatedByPersonAliasId] [int] NULL,
    [ModifiedByPersonAliasId] [int] NULL,
	[ForeignKey] [nvarchar](50) NULL,
	[ForeignGuid] [uniqueidentifier] NULL,
    [ForeignId] [nvarchar](50) NULL,
 CONSTRAINT [PK_dbo._org_rockSolidChurch_SampleProject_ReferralAgency] PRIMARY KEY CLUSTERED 
(
    [Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON)
)

ALTER TABLE [dbo].[_org_rockSolidChurch_SampleProject_ReferralAgency]  WITH CHECK ADD  CONSTRAINT [FK_dbo._org_rockSolidChurch_SampleProject_ReferralAgency_dbo.DefinedValue_ReferralAgencyTypeValueId] FOREIGN KEY([AgencyTypeValueId])
REFERENCES [dbo].[DefinedValue] ([Id])

ALTER TABLE [dbo].[_org_rockSolidChurch_SampleProject_ReferralAgency] CHECK CONSTRAINT [FK_dbo._org_rockSolidChurch_SampleProject_ReferralAgency_dbo.DefinedValue_ReferralAgencyTypeValueId]

ALTER TABLE [dbo].[_org_rockSolidChurch_SampleProject_ReferralAgency]  WITH CHECK ADD  CONSTRAINT [FK_dbo._org_rockSolidChurch_SampleProject_ReferralAgency_dbo.Campus_CampusId] FOREIGN KEY([CampusId])
REFERENCES [dbo].[Campus] ([Id])

ALTER TABLE [dbo].[_org_rockSolidChurch_SampleProject_ReferralAgency] CHECK CONSTRAINT [FK_dbo._org_rockSolidChurch_SampleProject_ReferralAgency_dbo.Campus_CampusId]

ALTER TABLE [dbo].[_org_rockSolidChurch_SampleProject_ReferralAgency]  WITH CHECK ADD  CONSTRAINT [FK_dbo._org_rockSolidChurch_SampleProject_ReferralAgency_dbo.PersonAlias_CreatedByPersonAliasId] FOREIGN KEY([CreatedByPersonAliasId])
REFERENCES [dbo].[PersonAlias] ([Id])

ALTER TABLE [dbo].[_org_rockSolidChurch_SampleProject_ReferralAgency] CHECK CONSTRAINT [FK_dbo._org_rockSolidChurch_SampleProject_ReferralAgency_dbo.PersonAlias_CreatedByPersonAliasId]

ALTER TABLE [dbo].[_org_rockSolidChurch_SampleProject_ReferralAgency]  WITH CHECK ADD  CONSTRAINT [FK_dbo._org_rockSolidChurch_SampleProject_ReferralAgency_dbo.PersonAlias_ModifiedByPersonAliasId] FOREIGN KEY([ModifiedByPersonAliasId])
REFERENCES [dbo].[PersonAlias] ([Id])

ALTER TABLE [dbo].[_org_rockSolidChurch_SampleProject_ReferralAgency] CHECK CONSTRAINT [FK_dbo._org_rockSolidChurch_SampleProject_ReferralAgency_dbo.PersonAlias_ModifiedByPersonAliasId]
&quot;</span> );
}
</pre></div>
        </div>
        
        <p>
            The <code>Down()</code> method in that migration
            drops the constraints and table:
        </p>
        
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">public</span> <span style="color:Blue;">override</span> <span style="color:Blue;">void</span> Down()
{
    Sql(<span style="color:#A31515;">@&quot;
ALTER TABLE [dbo].[_org_rockSolidChurch_SampleProject_ReferralAgency] DROP CONSTRAINT [FK_dbo._org_rockSolidChurch_SampleProject_ReferralAgency_dbo.PersonAlias_ModifiedByPersonAliasId]
ALTER TABLE [dbo].[_org_rockSolidChurch_SampleProject_ReferralAgency] DROP CONSTRAINT [FK_dbo._org_rockSolidChurch_SampleProject_ReferralAgency_dbo.PersonAlias_CreatedByPersonAliasId]
ALTER TABLE [dbo].[_org_rockSolidChurch_SampleProject_ReferralAgency] DROP CONSTRAINT [FK_dbo._org_rockSolidChurch_SampleProject_ReferralAgency_dbo.Campus_CampusId]
ALTER TABLE [dbo].[_org_rockSolidChurch_SampleProject_ReferralAgency] DROP CONSTRAINT [FK_dbo._org_rockSolidChurch_SampleProject_ReferralAgency_dbo.DefinedValue_ReferralAgencyTypeValueId]
DROP TABLE [dbo].[_org_rockSolidChurch_SampleProject_ReferralAgency]
&quot;</span> );
}
</pre></div>
        </div>
        
    </section>

    <section data-type="sect1">

        <h1><a name='002_addsystemdatamigration' href='#002_addsystemdatamigration' class='book-link'><i class='fa fa-link'></i></a>002_AddSystemData Migration</h1>
        <p>
            In a second migration we added the data
            we wanted to include with our plugin.  We wanted to:
            
            <ol>
                <li>add some new pages</li>
                <li>set some page settings</li>
                <li>explicitly add our new block types to Rock (versus letting Rock auto add them)</li>
                <li>add instances of the new block types to our new pages</li>
                <li>set block attributes on those new block instances</li>
                <li>add our "Referral Agency Type" DefinedType</li>
                <li>add the possible values for our new DefinedType</li>
            </ol>
        </p>
        
        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">namespace</span> org.rocksolidchurch.SampleProject.Migrations
{
    [MigrationNumber( 2, <span style="color:#A31515;">&quot;1.0.8&quot;</span> )]
    <span style="color:Blue;">public</span> <span style="color:Blue;">class</span> AddSystemData : Migration
    {
        <span style="color:Blue;">public</span> <span style="color:Blue;">override</span> <span style="color:Blue;">void</span> Up()
        {
            RockMigrationHelper.AddPage( <span style="color:#A31515;">&quot;7F2581A1-941E-4D51-8A9D-5BE9B881B003&quot;</span>, <span style="color:#A31515;">&quot;D65F783D-87A9-4CC9-8110-E83466A0EADB&quot;</span>, <span style="color:#A31515;">&quot;Referral Agencies&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;223AC4F2-CBED-4733-807A-188CFBBFA0C8&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span> ); <span style="color:Green;">// Site:Rock RMS</span>
            RockMigrationHelper.AddPage( <span style="color:#A31515;">&quot;223AC4F2-CBED-4733-807A-188CFBBFA0C8&quot;</span>, <span style="color:#A31515;">&quot;D65F783D-87A9-4CC9-8110-E83466A0EADB&quot;</span>, <span style="color:#A31515;">&quot;Referral Agency Details&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;4BF8FA57-AE86-4103-B07E-80ECE0000AEE&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span> ); <span style="color:Green;">// Site:Rock RMS</span>

            <span style="color:Green;">// Since the Referral Agency Details block handles displaying the breadcrumb for the page, we need to turn off the default breadcrumb rendered by the page</span>
            Sql( <span style="color:#A31515;">@&quot;
    UPDATE [Page] SET [BreadCrumbDisplayName] = 0 WHERE [Guid] = &#39;4BF8FA57-AE86-4103-B07E-80ECE0000AEE&#39;
&quot;</span> );
            RockMigrationHelper.UpdateBlockType( <span style="color:#A31515;">&quot;Referral Agency Detail&quot;</span>, <span style="color:#A31515;">&quot;Displays the details of a Referral Agency.&quot;</span>, <span style="color:#A31515;">&quot;~/Plugins/org_rocksolidchurch/SampleProject/ReferralAgencyDetail.ascx&quot;</span>, <span style="color:#A31515;">&quot;rocksolidchurch &gt; Sample Project&quot;</span>, <span style="color:#A31515;">&quot;2F130DF6-1EE4-45CE-9410-CBB0517EB33E&quot;</span> );
            RockMigrationHelper.UpdateBlockType( <span style="color:#A31515;">&quot;Referral Agency List&quot;</span>, <span style="color:#A31515;">&quot;Lists all the Referral Agencies.&quot;</span>, <span style="color:#A31515;">&quot;~/Plugins/org_rocksolidchurch/SampleProject/ReferralAgencyList.ascx&quot;</span>, <span style="color:#A31515;">&quot;rocksolidchurch &gt; Sample Project&quot;</span>, <span style="color:#A31515;">&quot;53F447CE-4B91-470A-A15D-B60DCAAB29CB&quot;</span> );
            <span style="color:Green;">// Add Block to Page: Referral Agencies, Site: Rock RMS</span>
            RockMigrationHelper.AddBlock( <span style="color:#A31515;">&quot;223AC4F2-CBED-4733-807A-188CFBBFA0C8&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;53F447CE-4B91-470A-A15D-B60DCAAB29CB&quot;</span>, <span style="color:#A31515;">&quot;Referral Agency List&quot;</span>, <span style="color:#A31515;">&quot;Main&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, 0, <span style="color:#A31515;">&quot;A0B53736-4132-4D1B-8300-9F9FB1A5DC21&quot;</span> );
            <span style="color:Green;">// Add Block to Page: Referral Agency Details, Site: Rock RMS</span>
            RockMigrationHelper.AddBlock( <span style="color:#A31515;">&quot;4BF8FA57-AE86-4103-B07E-80ECE0000AEE&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;2F130DF6-1EE4-45CE-9410-CBB0517EB33E&quot;</span>, <span style="color:#A31515;">&quot;Referral Agency Detail&quot;</span>, <span style="color:#A31515;">&quot;Main&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, 0, <span style="color:#A31515;">&quot;B69EBD0E-A1B4-47C5-AAE7-B40BEA37965F&quot;</span> );
            <span style="color:Green;">// Attrib for BlockType: Referral Agency List:Detail Page</span>
            RockMigrationHelper.AddBlockTypeAttribute( <span style="color:#A31515;">&quot;53F447CE-4B91-470A-A15D-B60DCAAB29CB&quot;</span>, <span style="color:#A31515;">&quot;BD53F9C9-EBA9-4D3F-82EA-DE5DD34A8108&quot;</span>, <span style="color:#A31515;">&quot;Detail Page&quot;</span>, <span style="color:#A31515;">&quot;DetailPage&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, 0, <span style="color:#A31515;">@&quot;&quot;</span>, <span style="color:#A31515;">&quot;5B480350-663C-4789-BF4D-33EC8DF882E8&quot;</span> );
            <span style="color:Green;">// Attrib Value for Block:Referral Agency List, Attribute:Detail Page Page: Referral Agencies, Site: Rock RMS</span>
            RockMigrationHelper.AddBlockAttributeValue( <span style="color:#A31515;">&quot;A0B53736-4132-4D1B-8300-9F9FB1A5DC21&quot;</span>, <span style="color:#A31515;">&quot;5B480350-663C-4789-BF4D-33EC8DF882E8&quot;</span>, <span style="color:#A31515;">@&quot;4bf8fa57-ae86-4103-b07e-80ece0000aee&quot;</span> );
            RockMigrationHelper.AddDefinedType( <span style="color:#A31515;">&quot;Global&quot;</span>, <span style="color:#A31515;">&quot;Referral Agency Type&quot;</span>, <span style="color:#A31515;">&quot;The type of agency (e.g. Counseling, Food, Financial Assistance, etc.)&quot;</span>, <span style="color:#A31515;">&quot;150478D4-3709-4543-906F-1F9496B4E7D0&quot;</span>);
            RockMigrationHelper.AddDefinedValue( <span style="color:#A31515;">&quot;150478D4-3709-4543-906F-1F9496B4E7D0&quot;</span>, <span style="color:#A31515;">&quot;Counseling and Therapy&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;83F9A59C-DBE5-4E1A-B33C-F701FA8175E1&quot;</span>, <span style="color:Blue;">false</span> );
            RockMigrationHelper.AddDefinedValue( <span style="color:#A31515;">&quot;150478D4-3709-4543-906F-1F9496B4E7D0&quot;</span>, <span style="color:#A31515;">&quot;Financial Assistance or Counseling&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;7A30D312-996E-4823-B1FF-AA27C1806521&quot;</span>, <span style="color:Blue;">false</span> );
            RockMigrationHelper.AddDefinedValue( <span style="color:#A31515;">&quot;150478D4-3709-4543-906F-1F9496B4E7D0&quot;</span>, <span style="color:#A31515;">&quot;24 Hour Crisis Hotlines&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;EDBE6DCE-313F-4648-8D97-A39520A54BFC&quot;</span>, <span style="color:Blue;">false</span> );
            RockMigrationHelper.AddDefinedValue( <span style="color:#A31515;">&quot;150478D4-3709-4543-906F-1F9496B4E7D0&quot;</span>, <span style="color:#A31515;">&quot;Youth Resources&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;BB666FA1-5391-40B1-B334-3A27575AD9D5&quot;</span>, <span style="color:Blue;">false</span> );
            RockMigrationHelper.AddDefinedValue( <span style="color:#A31515;">&quot;150478D4-3709-4543-906F-1F9496B4E7D0&quot;</span>, <span style="color:#A31515;">&quot;Food and Clothing&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;E15AE7DE-3555-437B-99B0-B28601C4EA2D&quot;</span>, <span style="color:Blue;">false</span> );
            RockMigrationHelper.AddDefinedValue( <span style="color:#A31515;">&quot;150478D4-3709-4543-906F-1F9496B4E7D0&quot;</span>, <span style="color:#A31515;">&quot;Homeless Resources/Housing&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;F6E4D78C-E05A-4AEF-AF8C-09B3B8FDDEBF&quot;</span>, <span style="color:Blue;">false</span> );
            RockMigrationHelper.AddDefinedValue( <span style="color:#A31515;">&quot;150478D4-3709-4543-906F-1F9496B4E7D0&quot;</span>, <span style="color:#A31515;">&quot;Substance Abuse&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;AD01D370-7CB6-4261-ACF6-8EE21CB353AA&quot;</span>, <span style="color:Blue;">false</span> );
            RockMigrationHelper.AddDefinedValue( <span style="color:#A31515;">&quot;150478D4-3709-4543-906F-1F9496B4E7D0&quot;</span>, <span style="color:#A31515;">&quot;Residential Drug Treatment Centers&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;57F4BCC8-B80F-48E5-93E2-A76E3F572C0C&quot;</span>, <span style="color:Blue;">false</span> );
            RockMigrationHelper.AddDefinedValue( <span style="color:#A31515;">&quot;150478D4-3709-4543-906F-1F9496B4E7D0&quot;</span>, <span style="color:#A31515;">&quot;Domestic Violence Resources&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;AE95FD8A-FD9E-4EDD-9689-5491725FEFE6&quot;</span>, <span style="color:Blue;">false</span> );
            RockMigrationHelper.AddDefinedValue( <span style="color:#A31515;">&quot;150478D4-3709-4543-906F-1F9496B4E7D0&quot;</span>, <span style="color:#A31515;">&quot;Mediation&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;40C66BE2-CE13-4E7D-980A-A2D66968CE57&quot;</span>, <span style="color:Blue;">false</span> );
            RockMigrationHelper.AddDefinedValue( <span style="color:#A31515;">&quot;150478D4-3709-4543-906F-1F9496B4E7D0&quot;</span>, <span style="color:#A31515;">&quot;Miscellaneous&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;62AB4A35-6E72-4BCD-BF6A-5B0D2052BACA&quot;</span>, <span style="color:Blue;">false</span> );
        }

        <span style="color:Blue;">public</span> <span style="color:Blue;">override</span> <span style="color:Blue;">void</span> Down()
        {
            Sql( <span style="color:#A31515;">@&quot;
    UPDATE [_org_rockSolidChurch_SampleProject_ReferralAgency] SET [AgencyTypeValueId] = NULL
&quot;</span> );
            RockMigrationHelper.DeleteDefinedType( <span style="color:#A31515;">&quot;150478D4-3709-4543-906F-1F9496B4E7D0&quot;</span> );
            
            <span style="color:Green;">// Attrib for BlockType: Referral Agency List:Detail Page</span>
            RockMigrationHelper.DeleteAttribute( <span style="color:#A31515;">&quot;5B480350-663C-4789-BF4D-33EC8DF882E8&quot;</span> );
            
            <span style="color:Green;">// Remove Block: Referral Agency Detail, from Page: Referral Agency Details, Site: Rock RMS</span>
            RockMigrationHelper.DeleteBlock( <span style="color:#A31515;">&quot;B69EBD0E-A1B4-47C5-AAE7-B40BEA37965F&quot;</span> );
            
            <span style="color:Green;">// Remove Block: Referral Agency List, from Page: Referral Agencies, Site: Rock RMS</span>
            RockMigrationHelper.DeleteBlock( <span style="color:#A31515;">&quot;A0B53736-4132-4D1B-8300-9F9FB1A5DC21&quot;</span> );
            RockMigrationHelper.DeleteBlockType( <span style="color:#A31515;">&quot;53F447CE-4B91-470A-A15D-B60DCAAB29CB&quot;</span> ); <span style="color:Green;">// Referral Agency List</span>
            RockMigrationHelper.DeleteBlockType( <span style="color:#A31515;">&quot;2F130DF6-1EE4-45CE-9410-CBB0517EB33E&quot;</span> ); <span style="color:Green;">// Referral Agency Detail</span>
            RockMigrationHelper.DeletePage( <span style="color:#A31515;">&quot;4BF8FA57-AE86-4103-B07E-80ECE0000AEE&quot;</span> ); <span style="color:Green;">// Page: Referral Agency DetailsLayout: Full Width, Site: Rock RMS</span>
            RockMigrationHelper.DeletePage( <span style="color:#A31515;">&quot;223AC4F2-CBED-4733-807A-188CFBBFA0C8&quot;</span> ); <span style="color:Green;">// Page: Referral AgenciesLayout: Full Width, Site: Rock RMS</span>

        }
    }
}
</pre></div>
        </div>

        <div data-type="note" data-note-type="tip">
            <h1>Tip</h1>
            <p>
                You generally want to explicitly add new block types so
                that you can set well-known Guid values for them.
                Doing that let's you maintain control -- so you can find them
                in other Rock installations, refer to them by guid when you're
                adding instances of them to pages, or setting attributes for them, etc.
                In fact, you should think about doing this for anything you may
                need to update at a later date.
            </p>
        </div>
        
    </section>
    
    <section data-type="sect1">

        <h1><a name='migrationresources' href='#migrationresources' class='book-link'><i class='fa fa-link'></i></a>Migration Resources</h1>
        <p>
            Although the examples above show stuff like inline SQL directly in the migration class
            file, there is another way which lets you avoid the need to escape everything for 
            a string.
        </p>
        <p>
            It is the Resource File.  Just right-click your Migration folder and choose Add New Item...
            Select <em data-type="reference" data-reference="reference-highlight">Resource File</em>
            and name it MigrationResources.
        </p>

        <figure>
            <figcaption>Add New Item... Resource File</figcaption>
            <a href='' class='book-image'><img src="https://rockrms.blob.core.windows.net/documentation/Books/17/1.1.0/images/migration-add-new-item-resource-file.png" alt="Add New Item Resource File"></a>
        </figure>
        
        <figure>
            <figcaption>Your New Resource File</figcaption>
            <a href='' class='book-image'><img src="https://rockrms.blob.core.windows.net/documentation/Books/17/1.1.0/images/migration-add-new-migration-resource.png" alt="Migration Resources RESX"></a>
        </figure>
        
        <p>
            Next, just put your raw SQL or Lava file next to the migration you want to include it in.
            We recommend you prefix it with a name that matches the first part of your migration
            name.  So if your my migration was called <code>007_UpdatedReceiptTemplate7</code>,
            name the SQL/Lava file 
            <code>007_UpdatedReceiptTemplate7_MyLavaFile.lava</code>.
        </p>
        
        <p>
            Now, double-click to open your MigrationResource.resx file and drag your
            <code>007_UpdatedReceiptTemplate7_MyLavaFile.lava</code> into the resx.
            If Visual Studio doesn't know what type of file the resource
            is, it may default to a byte[] array.  If the file is actually just text
            (such as a .lava file) then change the FileType from byte[] to Text.
        </p>
        
        <figure>
            <figcaption>Check FileType after adding a new resource</figcaption>
            <a href='' class='book-image'><img src="https://rockrms.blob.core.windows.net/documentation/Books/17/1.1.0/images/migration-check-file-type.png" alt="Check the resource file FileType"></a>
        </figure>
        
        <p>
            That's everything you need to know to get started. Now you can use the details in the 
            <a href="https://www.rockrms.com/Rock/Developer/Book/26/26">Packaging Plugins &amp; Themes</a>
            to start sharing all your amazing plugins in the RockShop.
        </p>
    
    </section>
    
</section>

<section data-type="chapter" id="data-migration-helper-methods"><h1><a name='datamigrationhelpermethods' href='#datamigrationhelpermethods' class='book-link'><i class='fa fa-link'></i></a>Data Migration Helper Methods</h1>

    <p>
        Creating data migrations can be a bit of a chore, but we created some migration helper methods
        to give you super powers.
        These methods will help you to add/register new blocks, add pages, add blocks
        to pages, add groups, add defined types, etc.  So instead of writing something
        like this:
    </p>

    <div data-type="example">
        <div style="color:Black;background-color:White;"><pre>
Sql( <span style="color:Blue;">string</span>.Format( <span style="color:#A31515;">@&quot;     
DECLARE @FieldTypeId int
SET @FieldTypeId = (SELECT [Id] FROM [FieldType] WHERE [Guid] = &#39;{1}&#39;)
DELETE [Attribute] 
WHERE [EntityTypeId] IS NULL
AND [Key] = &#39;{2}&#39;
AND [EntityTypeQualifierColumn] = &#39;{8}&#39;
AND [EntityTypeQualifierValue] = &#39;{9}&#39;
INSERT INTO [Attribute] ( 
    [IsSystem],[FieldTypeId],[EntityTypeId],
    [EntityTypeQualifierColumn],[EntityTypeQualifierValue],
    [Key],[Name],[Description],
    [Order],[IsGridColumn],[DefaultValue],[IsMultiValue],
    [IsRequired],[Guid])
VALUES(
    1, @FieldTypeId, NULL,
    &#39;{8}&#39;, &#39;{9}&#39;,
    &#39;{2}&#39;, &#39;{3}&#39;, &#39;{4}&#39;,
    {5}, 0, &#39;{6}&#39;, 0, 
    0, &#39;{7}&#39;)
    &quot;</span>,
    <span style="color:#A31515;">&quot;&quot;</span>,
    <span style="color:#A31515;">&quot;C28C7BF3-A552-4D77-9408-DEDCF760CED0&quot;</span>,
    <span style="color:#A31515;">&quot;Safe Sender Domains&quot;</span>.Replace( <span style="color:#A31515;">&quot; &quot;</span>, <span style="color:Blue;">string</span>.Empty ),
    <span style="color:#A31515;">&quot;Safe Sender Domains&quot;</span>,
    <span style="color:#A31515;">&quot;Delimited list of domains that can be used to send emails. It&#39;s simple.&quot;</span>.Replace( <span style="color:#A31515;">&quot;&#39;&quot;</span>, <span style="color:#A31515;">&quot;&#39;&#39;&quot;</span> ),
    0,
    <span style="color:#A31515;">&quot;&quot;</span>,
    <span style="color:#A31515;">&quot;CDD29C51-5D33-435F-96AB-2C06BA772F88&quot;</span>,
    <span style="color:#A31515;">&quot;&quot;</span>,
    <span style="color:#A31515;">&quot;&quot;</span>)
);
</pre></div>
        </div>


        <p>You can just write it like this:</p>

        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
RockMigrationHelper.AddGlobalAttribute( <span style="color:#A31515;">&quot;C28C7BF3-A552-4D77-9408-DEDCF760CED0&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;Safe Sender Domains&quot;</span>, <span style="color:#A31515;">&quot;Delimited list of domains that can be used to send emails. It&#39;s simple.&quot;</span>, 0, <span style="color:#A31515;">&quot;&quot;</span>, <span style="color:#A31515;">&quot;CDD29C51-5D33-435F-96AB-2C06BA772F88&quot;</span> );
</pre></div>
        </div>

        <section data-type="sect1">
        
            <h1><a name='helpermethodreference' href='#helpermethodreference' class='book-link'><i class='fa fa-link'></i></a>Helper Method Reference</h1>
        
            <p>We've listed all the helper methods for you by entity type for your review.</p>

            <h2>ActionTypeAttributeValue</h2>
            <ul>
                <li>
                    <b>AddActionTypeAttributeValue( string actionTypeGuid, string attributeGuid, string value )</b>
                    <br> Adds the action type attribute value.
                </li>
            </ul>

            <h2>ActionTypePersonAttributeValue</h2>
            <ul>
                <li>
                    <b>AddActionTypePersonAttributeValue( string actionTypeGuid, string attributeGuid, string value )</b>
                    <br> Adds an action type person attribute value.  Because there's not a way to link to another person in the target database, person attribute values are just set to the first person alias record in the target database which will most likely be the Admin, Admin record.
                </li>
            </ul>

            <h2>Attribute</h2>
            <ul>
                <li>
                    <b>DeleteAttribute( string guid )</b>
                    <br> Deletes the attribute.
                </li>
            </ul>

            <h2>AttributeQualifier</h2>
            <ul>
                <li>
                    <b>AddAttributeQualifier( string attributeGuid, string key, string value, string guid )</b>
                    <br> Adds the attribute qualifier.
                </li>
            </ul>

            <h2>AttributeValue</h2>
            <ul>
                <li>
                    <b>AddAttributeValue( string attributeGuid, int entityId, string value, string guid )</b>
                    <br> Adds a new attribute value for the given attributeGuid if it does not already exist.
                </li>
            </ul>

            <h2>BinaryFileType</h2>
            <ul>
                <li>
                    <b>UpdateBinaryFileType( string storageEntityTypeId, string name, string description, string iconCssClass, string guid, bool allowCaching, bool requiresViewSecurity )</b>
                    <br> Updates the type of the binary file.
                </li>
            </ul>

            <h2>Block</h2>
            <ul>
                <li>
                    <b>AddBlock( string pageGuid, string layoutGuid, string blockTypeGuid, string name, string zone, string preHtml, string postHtml, int order, string guid )</b>
                    <br> Adds a new Block of the given block type to the given page (optional) and layout (optional), setting its values with the given parameter values. If only the layout is given, edit/configuration authorization will also be inserted into the Auth table for the admin role (GroupId 2).
                </li>
                <li>
                    <b>DeleteBlock( string guid )</b>
                    <br> Deletes the block and any authorization records that belonged to it.
                </li>
            </ul>

            <h2>BlockAttribute</h2>
            <ul>
                <li>
                    <b>DeleteBlockAttribute( string guid )</b>
                    <br> Deletes the block Attribute.
                </li>
            </ul>

            <h2>BlockAttributeValue</h2>
            <ul>
                <li>
                    <b>AddBlockAttributeValue( string blockGuid, string attributeGuid, string value, bool appendToExisting )</b>
                    <br> Adds a new block attribute value for the given block guid and attribute guid, deleting any previously existing attribute value first.
                </li>
                <li>
                    <b>DeleteBlockAttributeValue( string blockGuid, string attributeGuid )</b>
                    <br> Deletes the block attribute value.
                </li>
            </ul>

            <h2>BlockType</h2>
            <ul>
                <li>
                    <b>AddBlockType( string name, string description, string path, string category, string guid )</b>
                    <br> Adds a new BlockType.
                </li>
                <li>
                    <b>UpdateBlockType( string name, string description, string path, string category, string guid )</b>
                    <br> Updates the BlockType by path (if it exists); otherwise it inserts a new record. In either case it will be marked IsSystem.
                </li>
                <li>
                    <b>DeleteBlockType( string guid )</b>
                    <br> Deletes the BlockType.
                </li>
            </ul>

            <h2>BlockTypeAttribute</h2>
            <ul>
                <li>
                    <b>AddBlockTypeAttribute( string blockTypeGuid, string fieldTypeGuid, string name, string key, string category, string description, int order, string defaultValue, string guid, bool isRequired )</b>
                    <br> Adds a new BlockType Attribute for the given blocktype and key.
                </li>
                <li>
                    <b>UpdateBlockTypeAttribute( string blockTypeGuid, string fieldTypeGuid, string name, string key, string category, string description, int order, string defaultValue, string guid )</b>
                    <br> Updates the BlockType Attribute for the given blocktype and key (if it exists); otherwise it inserts a new record.
                </li>
            </ul>

            <h2>Category</h2>
            <ul>
                <li>
                    <b>UpdateCategory( string entityTypeGuid, string name, string iconCssClass, string description, string guid, int order )</b>
                    <br> Updates the category.
                </li>
                <li>
                    <b>DeleteCategory( string guid )</b>
                    <br> Deletes the category.
                </li>
            </ul>

            <h2>DefinedType</h2>
            <ul>
                <li>
                    <b>AddDefinedType( string category, string name, string description, string guid, string helpText )</b>
                    <br> Adds a new DefinedType.
                </li>
                <li>
                    <b>DeleteDefinedType( string guid )</b>
                    <br> Deletes the DefinedType.
                </li>
            </ul>

            <h2>DefinedTypeAttribute</h2>
            <ul>
                <li>
                    <b>AddDefinedTypeAttribute( string definedTypeGuid, string fieldTypeGuid, string name, string key, string description, int order, string defaultValue, string guid )</b>
                    <br> Adds the defined type attribute.
                </li>
            </ul>

            <h2>DefinedValue</h2>
            <ul>
                <li>
                    <b>AddDefinedValue( string definedTypeGuid, string value, string description, string guid, bool isSystem )</b>
                    <br> Adds a new DefinedValue for the given DefinedType.
                </li>
                <li>
                    <b>UpdateDefinedValue( string definedTypeGuid, string value, string description, string guid, bool isSystem )</b>
                    <br> Updates (or Adds) the defined value for the given DefinedType.
                </li>
                <li>
                    <b>DeleteDefinedValue( string guid )</b>
                    <br> Deletes the DefinedValue.
                </li>
            </ul>

            <h2>DefinedValueAttributeValue</h2>
            <ul>
                <li>
                    <b>AddDefinedValueAttributeValue( string definedValueGuid, string attributeGuid, string value )</b>
                    <br> Adds the defined value attribute value.
                </li>
                <li>
                    <b>UpdateDefinedValueAttributeValue( string definedValueGuid, string attributeGuid, string value )</b>
                    <br> Adds the defined value attribute value.
                </li>
            </ul>

            <h2>DefinedValueAttributeValueByValue</h2>
            <ul>
                <li>
                    <b>AddDefinedValueAttributeValueByValue( string definedTypeGuid, string definedValueValue, string attributeKey, string value )</b>
                    <br> Adds the name of the defined value attribute value by.
                </li>
            </ul>

            <h2>DefinedValueByValue</h2>
            <ul>
                <li>
                    <b>UpdateDefinedValueByValue( string definedTypeGuid, string value, string description, int order, bool isSystem )</b>
                    <br> Updates the name of the defined value by.
                </li>
            </ul>

            <h2>EntityAttribute</h2>
            <ul>
                <li>
                    <b>AddEntityAttribute( string entityTypeName, string fieldTypeGuid, string entityTypeQualifierColumn, string entityTypeQualifierValue, string name, string category, string description, int order, string defaultValue, string guid )</b>
                    <br> Adds a new EntityType Attribute for the given EntityType, FieldType, and name (key).
                </li>
                <li>
                    <b>UpdateEntityAttribute( string entityTypeName, string fieldTypeGuid, string entityTypeQualifierColumn, string entityTypeQualifierValue, string name, string description, int order, string defaultValue, string guid )</b>
                    <br> Updates the Entity Attribute for the given EntityType, FieldType, and name (key). otherwise it inserts a new record.
                </li>
            </ul>

            <h2>EntityType</h2>
            <ul>
                <li>
                    <b>UpdateEntityType( string name, string guid, bool isEntity, bool isSecured )</b>
                    <br> Updates the EntityType by name (if it exists); otherwise it inserts a new record.
                </li>
                <li>
                    <b>UpdateEntityType( string name, string friendlyName, string assemblyName, bool isEntity, bool isSecured, string guid )</b>
                    <br> Updates the EntityType by name (if it exists); otherwise it inserts a new record.
                </li>
                <li>
                    <b>DeleteEntityType( string guid )</b>
                    <br> Deletes the EntityType.
                </li>
            </ul>

            <h2>EntityTypeMultiValueFieldType</h2>
            <ul>
                <li>
                    <b>UpdateEntityTypeMultiValueFieldType( string entityTypeName, string fieldTypeGuid )</b>
                    <br> Updates the EntityType MultiValueFieldType
                </li>
            </ul>

            <h2>EntityTypeSingleValueFieldType</h2>
            <ul>
                <li>
                    <b>UpdateEntityTypeSingleValueFieldType( string entityTypeName, string fieldTypeGuid )</b>
                    <br> Updates the EntityType SingleValueFieldType
                </li>
            </ul>

            <h2>FieldType</h2>
            <ul>
                <li>
                    <b>UpdateFieldType( string name, string description, string assembly, string className, string guid, bool IsSystem )</b>
                    <br> Updates the FieldType by assembly and className (if it exists); otherwise it inserts a new record.
                </li>
                <li>
                    <b>DeleteFieldType( string guid )</b>
                    <br> Deletes the FieldType.
                </li>
            </ul>

            <h2>GlobalAttribute</h2>
            <ul>
                <li>
                    <b>AddGlobalAttribute( string fieldTypeGuid, string entityTypeQualifierColumn, string entityTypeQualifierValue, string name, string description, int order, string defaultValue, string guid )</b>
                    <br> Adds a global Attribute for the given FieldType, entityTypeQualifierColumn, entityTypeQualifierValue and name (key). Note: This method delets the Attribute first if it had already existed.
                </li>
            </ul>

            <h2>Group</h2>
            <ul>
                <li>
                    <b>DeleteGroup( string guid, bool orphanAnyChildren )</b>
                    <br> Deletes the group.
                </li>
            </ul>

            <h2>GroupMemberAttributeDefinedValue</h2>
            <ul>
                <li>
                    <b>AddGroupMemberAttributeDefinedValue( string groupGuid, string name, string description, int order, string defaultValue, bool isGridColumn, bool isMultiValue, bool isRequired, string definedTypeGuid, string guid, bool isSystem )</b>
                    <br> Adds or updates a group member Attribute for the given group for storing a particular defined value. The defined values are constrained by the given defined type.
                </li>
                <li>
                    <b>UpdateGroupMemberAttributeDefinedValue( string groupGuid, string name, string description, int order, string defaultValue, bool isGridColumn, bool isMultiValue, bool isRequired, string definedTypeGuid, string guid, bool isSystem )</b>
                    <br> Adds or updates a group member Attribute for the given group for storing a particular defined value. The defined values are constrained by the given defined type.
                </li>
            </ul>

            <h2>GroupType</h2>
            <ul>
                <li>
                    <b>DeleteGroupType( string guid )</b>
                    <br> Deletes the GroupType.
                </li>
            </ul>

            <h2>GroupTypeGroupAttribute</h2>
            <ul>
                <li>
                    <b>AddGroupTypeGroupAttribute( string groupTypeGuid, string fieldTypeGuid, string name, string description, int order, string defaultValue, string guid )</b>
                    <br> Adds a new GroupType "Group Attribute" for the given GroupType using the given values.
                </li>
            </ul>

            <h2>GroupTypeRole</h2>
            <ul>
                <li>
                    <b>AddGroupTypeRole( string groupTypeGuid, string name, string description, int order, int? maxCount, int? minCount, string guid, bool isSystem, bool isLeader, bool isDefaultGroupTypeRole )</b>
                    <br> Adds or Updates the GroupTypeRole for the given guid (if it exists); otherwise it inserts a new record.  Can also set the role as the default for the given GroupType if isDefaultGroupTypeRole is set to true.
                </li>
                <li>
                    <b>UpdateGroupTypeRole( string groupTypeGuid, string name, string description, int order, int? maxCount, int? minCount, string guid, bool isSystem, bool isLeader, bool isDefaultGroupTypeRole )</b>
                    <br> Adds or Updates the GroupTypeRole for the given guid (if it exists); otherwise it inserts a new record.  Can also set the role as the default for the given GroupType if isDefaultGroupTypeRole is set to true.
                </li>
                <li>
                    <b>DeleteGroupTypeRole( string guid )</b>
                    <br> Deletes the GroupTypeRole.
                </li>
            </ul>

            <h2>HtmlContentBlock</h2>
            <ul>
                <li>
                    <b>UpdateHtmlContentBlock( string blockGuid, string htmlContent, string guid )</b>
                    <br> Add or Updates the HTML content for an HTML Content Block
                </li>
            </ul>

            <h2>Layout</h2>
            <ul>
                <li>
                    <b>AddLayout( string siteGuid, string fileName, string name, string description, string guid )</b>
                    <br> Adds a new Layout to the given site.
                </li>
                <li>
                    <b>DeleteLayout( string guid )</b>
                    <br> Deletes the Layout.
                </li>
            </ul>

            <h2>Page</h2>
            <ul>
                <li>
                    <b>AddPage( string parentPageGuid, string layoutGuid, string name, string description, string guid, string iconCssClass, string insertAfterPageGuid )</b>
                    <br> Adds a new Page to the given parent page. The new page will be ordered as last child of the parent page.
                </li>
                <li>
                    <b>MovePage( string pageGuid, string parentPageGuid )</b>
                    <br> Moves the Page to the new given parent page.
                </li>
                <li>
                    <b>DeletePage( string guid )</b>
                    <br> Deletes the Page and any PageViews that use the page.
                </li>
            </ul>

            <h2>PageContext</h2>
            <ul>
                <li>
                    <b>AddPageContext( string pageGuid, string entity, string idParameter )</b>
                    <br>
                </li>
                <li>
                    <b>UpdatePageContext( string pageGuid, string entity, string idParameter, string guid )</b>
                    <br> Adds or Updates PageContext to the given page, entity, idParameter
                </li>
                <li>
                    <b>DeletePageContext( string guid )</b>
                    <br> Deletes the page context.
                </li>
            </ul>

            <h2>PageRoute</h2>
            <ul>
                <li>
                    <b>AddPageRoute( string pageGuid, string route )</b>
                    <br> Adds a new PageRoute to the given page but only if the given route name does not exist.
                </li>
            </ul>

            <h2>PersonAttribute</h2>
            <ul>
                <li>
                    <b>UpdatePersonAttribute( string fieldTypeGuid, string categoryGuid, string name, string key, string iconCssClass, string description, int order, string defaultValue, string guid )</b>
                    <br> Updates the BlockType Attribute for the given blocktype and key (if it exists); otherwise it inserts a new record.
                </li>
            </ul>

            <h2>PersonAttributeCategory</h2>
            <ul>
                <li>
                    <b>UpdatePersonAttributeCategory( string name, string iconCssClass, string description, string guid, int order )</b>
                    <br> Updates the person attribute category.
                </li>
            </ul>

            <h2>PersonBadge</h2>
            <ul>
                <li>
                    <b>UpdatePersonBadge( string name, string description, string entityTypeName, int order, string guid )</b>
                    <br> Updates the PersonBadge by Guid (if it exists); otherwise it inserts a new record.
                </li>
            </ul>

            <h2>PersonBadgeAttribute</h2>
            <ul>
                <li>
                    <b>AddPersonBadgeAttribute( string personBadgeGuid, string fieldTypeGuid, string name, string key, string description, int order, string defaultValue, string guid )</b>
                    <br> Adds (or Deletes and Adds) the person badge attribute.
                </li>
            </ul>

            <h2>PersonBadgeAttributeValue</h2>
            <ul>
                <li>
                    <b>AddPersonBadgeAttributeValue( string personBadgeGuid, string attributeGuid, string value )</b>
                    <br> Adds/Updates the person badge attribute value.
                </li>
            </ul>

            <h2>Report</h2>
            <ul>
                <li>
                    <b>AddReport( string categoryGuid, string dataViewGuid, string entityTypeGuid, string name, string description, string guid, int? fetchTop )</b>
                    <br> Adds a report.
                </li>
                <li>
                    <b>DeleteReport( string guid )</b>
                    <br> Deletes the report
                </li>
            </ul>

            <h2>ReportField</h2>
            <ul>
                <li>
                    <b>DeleteReportField( string guid )</b>
                    <br> Deletes the report field.
                </li>
            </ul>

            <h2>RestAction</h2>
            <ul>
                <li>
                    <b>AddRestAction( string controllerName, string controllerClass, string actionMethod, string actionPath )</b>
                    <br> Adds the rest action.
                </li>
            </ul>

            <h2>RestController</h2>
            <ul>
                <li>
                    <b>AddRestController( string controllerName, string controllerClass )</b>
                    <br> Adds the rest controller.
                </li>
            </ul>

            <h2>SecurityAuth</h2>
            <ul>
                <li>
                    <b>AddSecurityAuth( string entityTypeName, string action, string groupGuid, string authGuid )</b>
                    <br> Adds the security auth record for the given entity type and group.
                </li>
                <li>
                    <b>DeleteSecurityAuth( string guid )</b>
                    <br> Deletes the security auth record.
                </li>
            </ul>

            <h2>SecurityAuthForAttribute</h2>
            <ul>
                <li>
                    <b>AddSecurityAuthForAttribute( string attributeGuid, int order, string action, bool allow, string groupGuid, int specialRole, string authGuid )</b>
                    <br> Adds the attribute security authentication. Set GroupGuid to null when setting to a special role
                </li>
                <li>
                    <b>DeleteSecurityAuthForAttribute( string attributeGuid )</b>
                    <br> Deletes the security authentication for page.
                </li>
            </ul>

            <h2>SecurityAuthForBinaryFileType</h2>
            <ul>
                <li>
                    <b>AddSecurityAuthForBinaryFileType( string binaryFileTypeGuid, int order, string action, bool allow, string groupGuid, Rock.Model.SpecialRole specialRole, string authGuid )</b>
                    <br> Adds the binaryfiletype security authentication. Set GroupGuid to null when setting to a special role
                </li>
            </ul>

            <h2>SecurityAuthForBlock</h2>
            <ul>
                <li>
                    <b>AddSecurityAuthForBlock( string blockGuid, int order, string action, bool allow, string groupGuid, Rock.Model.SpecialRole specialRole, string authGuid )</b>
                    <br> Adds the page security authentication. Set GroupGuid to null when setting to a special role
                </li>
                <li>
                    <b>DeleteSecurityAuthForBlock( string blockGuid )</b>
                    <br> Deletes the security authentication for block.
                </li>
            </ul>

            <h2>SecurityAuthForCategory</h2>
            <ul>
                <li>
                    <b>AddSecurityAuthForCategory( string categoryGuid, int order, string action, bool allow, string groupGuid, int specialRole, string authGuid )</b>
                    <br> Adds the category security authentication. Set GroupGuid to null when setting to a special role
                </li>
                <li>
                    <b>DeleteSecurityAuthForCategory( string categoryGuid )</b>
                    <br> Deletes the security authentication for category.
                </li>
            </ul>

            <h2>SecurityAuthForEntityType</h2>
            <ul>
                <li>
                    <b>AddSecurityAuthForEntityType( string entityTypeName, int order, string action, bool allow, string groupGuid, int specialRole, string authGuid )</b>
                    <br> Adds the security auth record for the given entity type and group.
                </li>
            </ul>

            <h2>SecurityAuthForGroupType</h2>
            <ul>
                <li>
                    <b>AddSecurityAuthForGroupType( string groupTypeGuid, int order, string action, bool allow, string groupGuid, Rock.Model.SpecialRole specialRole, string authGuid )</b>
                    <br> Adds the page security authentication. Set GroupGuid to null when setting to a special role
                </li>
                <li>
                    <b>DeleteSecurityAuthForGroupType( string groupTypeGuid )</b>
                    <br> Deletes the security authentication for groupType.
                </li>
            </ul>

            <h2>SecurityAuthForPage</h2>
            <ul>
                <li>
                    <b>AddSecurityAuthForPage( string pageGuid, int order, string action, bool allow, string groupGuid, int specialRole, string authGuid )</b>
                    <br> Adds the page security authentication. Set GroupGuid to null when setting to a special role
                </li>
                <li>
                    <b>DeleteSecurityAuthForPage( string pageGuid )</b>
                    <br> Deletes the security authentication for page.
                </li>
            </ul>

            <h2>SecurityAuthForRestAction</h2>
            <ul>
                <li>
                    <b>AddSecurityAuthForRestAction( string restActionMethod, string restActionPath, int order, string action, bool allow, string groupGuid, Rock.Model.SpecialRole specialRole, string authGuid )</b>
                    <br> Adds the security authentication for rest action.
                </li>
            </ul>

            <h2>SecurityAuthForRestController</h2>
            <ul>
                <li>
                    <b>AddSecurityAuthForRestController( string restControllerClass, int order, string action, bool allow, string groupGuid, Rock.Model.SpecialRole specialRole, string authGuid )</b>
                    <br> Adds the security authentication for rest controller.
                </li>
            </ul>

            <h2>SecurityRoleGroup</h2>
            <ul>
                <li>
                    <b>AddSecurityRoleGroup( string name, string description, string guid )</b>
                    <br> Adds the security role group.
                </li>
                <li>
                    <b>DeleteSecurityRoleGroup( string guid )</b>
                    <br> Deletes the security role group.
                </li>
            </ul>

            <h2>Site</h2>
            <ul>
                <li>
                    <b>AddSite( string name, string description, string theme, string guid )</b>
                    <br> Adds a new Layout to the given site.
                </li>
                <li>
                    <b>DeleteSite( string guid )</b>
                    <br> Deletes the Layout.
                </li>
            </ul>

            <h2>SystemEmail</h2>
            <ul>
                <li>
                    <b>DeleteSystemEmail( string guid )</b>
                    <br> Deletes the SystemEmail.
                </li>
            </ul>

            <h2>WorkflowActionEntityAttribute</h2>
            <ul>
                <li>
                    <b>UpdateWorkflowActionEntityAttribute( string actionEntityTypeGuid, string fieldTypeGuid, string name, string key, string description, int order, string defaultValue, string guid )</b>
                    <br> Updates the workflow action entity attribute.
                </li>
            </ul>

            <h2>WorkflowActivityTypeAttribute</h2>
            <ul>
                <li>
                    <b>UpdateWorkflowActivityTypeAttribute( string workflowActivityTypeGuid, string fieldTypeGuid, string name, string key, string description, int order, string defaultValue, string guid )</b>
                    <br> Updates the workflow activity type attribute.
                </li>
            </ul>

            <h2>WorkflowTypeAttribute</h2>
            <ul>
                <li>
                    <b>UpdateWorkflowTypeAttribute( string workflowTypeGuid, string fieldTypeGuid, string name, string key, string description, int order, string defaultValue, string guid )</b>
                    <br> Updates the workflow type attribute.
                </li>
            </ul>

            <div data-type="note" data-note-type="warning">
                <h1>Gotcha!</h1>
                <p>When creating your SQL migrations be sure to watch out for the common gotchas in the next section.</p>
            </div>

        </section>

     <section data-type="sect1">
         <h1><a name='doublethequotes' href='#doublethequotes' class='book-link'><i class='fa fa-link'></i></a>Double The Quotes</h1>
         
         <p>Be sure to double any quotes that you have within your own SQL as seen here:</p>

        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
Sql( <span style="color:#A31515;">@&quot;
  UPDATE 
     [Attribute]
  SET 
     [Description] = &#39;He said &quot;&quot;Rock&quot;&quot; is fun. Don&#39;&#39;t you agree?&#39;
  WHERE 
     [Guid] = &#39;ABCDEFG9-1111-2222-3333-1213456789ABC&#39;
&quot;</span> );
</pre></div>
        </div>

    </section>

     <section data-type="sect1">
         <h1><a name='dontquoteyournulls' href='#dontquoteyournulls' class='book-link'><i class='fa fa-link'></i></a>Don't Quote Your Nulls</h1>
         
         <p>Just pass the null keyword as seen below:</p>

        <div data-type="example">
            <div style="color:Black;background-color:White;"><pre>
RockMigrationHelper.UpdateGroupTypeRole( <span style="color:#A31515;">&quot;E0C5A0E2-B7B3-4EF4-820D-BBF7F9A374EF&quot;</span>, <span style="color:#A31515;">&quot;Facebook Friend&quot;</span>, <span style="color:#A31515;">&quot;A Facebook friend.&quot;</span>,
0, <span style="color:Blue;">null</span>, <span style="color:Blue;">null</span>, <span style="color:#A31515;">&quot;AB69816C-4DFA-4A7A-86A5-9BFCBA6FED1E&quot;</span> );
</pre></div>
        </div>

    </section>
    
    <section data-type="sect1">

            <h1><a name='migrationgenerationtools' href='#migrationgenerationtools' class='book-link'><i class='fa fa-link'></i></a>Migration Generation Tools</h1>

            <p>
                You may find yourself creating a new page with child pages that use your new blocks, or
                your block may use a new custom workflow that you need to distribute with your package.
                Depending on the situation, creating a migration by hand can be a daunting task.
                We've felt that pain too and created a few more helper tools.
            </p>
            
            <p>
                If you look in the <em data-type="reference" data-reference="reference-highlight">Rock\Dev Tools\Sql</em>
                folder, you'll notice several sql scripts that start with the prefix <code>CodeGen*_</code>.
                These scripts can help generate many of the needed MigrationHelper methods for your stuff.
            </p>
            
            <p>
                For example, when executed, the <code>CodeGen_PagesBlocksAttributesMigration_ForAPage.sql</code> script
                takes the PageId parameter (which you set to the id of your choice):
                
                <div data-type="example">
                    <div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">DECLARE</span> @PageId <span style="color:Blue;">int</span> = 226
</pre></div>
                </div>
            
                ...and outputs the needed MigrationHelper methods for the Up() and Down() methods of your
                migration.
                
                <div data-type="example">
                    <div style="color:Black;background-color:White;"><pre>
<span style="color:Green;">// MigrationUp</span>
<span style="color:Green;">// -----------</span>
<span style="color:Green;">// Page: Layout Detail</span>
RockMigrationHelper.AddPage(<span style="color:#A31515;">&quot;A2991117-0B85-4209-9008-254929C6E00F&quot;</span>,<span style="color:#A31515;">&quot;D65F783D-87A9-4CC9-8110-E83466A0EADB&quot;</span>,<span style="color:#A31515;">&quot;Layout Detail&quot;</span>,<span style="color:#A31515;">&quot;&quot;</span>,<span style="color:#A31515;">&quot;E6217A2B-B16F-4E84-BF67-795CA7F5F9AA&quot;</span>,<span style="color:#A31515;">&quot;fa fa-th&quot;</span>); <span style="color:Green;">// Site:Rock RMS</span>
RockMigrationHelper.UpdateBlockType(<span style="color:#A31515;">&quot;Layout Detail&quot;</span>,<span style="color:#A31515;">&quot;Displays the details for a specific layout.&quot;</span>,<span style="color:#A31515;">&quot;~/Blocks/Cms/LayoutDetail.ascx&quot;</span>,<span style="color:#A31515;">&quot;CMS&quot;</span>,<span style="color:#A31515;">&quot;68B9D63D-D714-473A-89F2-62EB1602E00A&quot;</span>);
RockMigrationHelper.UpdateBlockType(<span style="color:#A31515;">&quot;Layout Block List&quot;</span>,<span style="color:#A31515;">&quot;Lists blocks that are on a given site layout.&quot;</span>,<span style="color:#A31515;">&quot;~/Blocks/Cms/LayoutBlockList.ascx&quot;</span>,<span style="color:#A31515;">&quot;CMS&quot;</span>,<span style="color:#A31515;">&quot;CD3C0C1D-2171-4FCC-B840-FC6E6F72EEEF&quot;</span>);
RockMigrationHelper.AddBlock(<span style="color:#A31515;">&quot;E6217A2B-B16F-4E84-BF67-795CA7F5F9AA&quot;</span>,<span style="color:#A31515;">&quot;&quot;</span>,<span style="color:#A31515;">&quot;68B9D63D-D714-473A-89F2-62EB1602E00A&quot;</span>,<span style="color:#A31515;">&quot;Layout Detail&quot;</span>,<span style="color:#A31515;">&quot;Main&quot;</span>,<span style="color:#A31515;">&quot;&quot;</span>,<span style="color:#A31515;">&quot;&quot;</span>,0,<span style="color:#A31515;">&quot;C04C6905-C156-49D3-832D-D09F3B0E1BF1&quot;</span>); 

RockMigrationHelper.AddBlock(<span style="color:#A31515;">&quot;E6217A2B-B16F-4E84-BF67-795CA7F5F9AA&quot;</span>,<span style="color:#A31515;">&quot;&quot;</span>,<span style="color:#A31515;">&quot;CD3C0C1D-2171-4FCC-B840-FC6E6F72EEEF&quot;</span>,<span style="color:#A31515;">&quot;Layout Block List&quot;</span>,<span style="color:#A31515;">&quot;Main&quot;</span>,<span style="color:#A31515;">&quot;&quot;</span>,<span style="color:#A31515;">&quot;&quot;</span>,1,<span style="color:#A31515;">&quot;5FB1CC3B-4550-4099-8C83-044FF57CEAD8&quot;</span>); 

<span style="color:Green;">// MigrationDown</span>
<span style="color:Green;">// -------------</span>
RockMigrationHelper.DeleteBlock(<span style="color:#A31515;">&quot;5FB1CC3B-4550-4099-8C83-044FF57CEAD8&quot;</span>);
RockMigrationHelper.DeleteBlock(<span style="color:#A31515;">&quot;C04C6905-C156-49D3-832D-D09F3B0E1BF1&quot;</span>);
RockMigrationHelper.DeleteBlockType(<span style="color:#A31515;">&quot;CD3C0C1D-2171-4FCC-B840-FC6E6F72EEEF&quot;</span>);
RockMigrationHelper.DeleteBlockType(<span style="color:#A31515;">&quot;68B9D63D-D714-473A-89F2-62EB1602E00A&quot;</span>);
RockMigrationHelper.DeletePage(<span style="color:#A31515;">&quot;E6217A2B-B16F-4E84-BF67-795CA7F5F9AA&quot;</span>); <span style="color:Green;">//  Page: Layout Detail</span>
</pre></div>
                </div>
            </p>


            <div data-type="note" data-note-type="caution">
                <h1>Caution!</h1>
                <p>
                    Don't forget to really look closely at the code these scripts generate.
                    It's always a good idea to verify that it did not include any extra bits, pages, items, etc.
                </p>
            </div>

            <p>
                You may need to experiment with each one to become familiar with how it works,
                but they all work similarly.  Scripts like <code>CodeGen_WorkflowTypeMigration.sql</code>
                can save you tons of hours, but you need to know it works a little differently.
                That script outputs all Workflow related records <em>except</em> the ones defined in
                its <code>#knownGuidsToIgnore</code> table.
            </p>
        </section>
</section>


                        </article>
                        <aside class="col-md-3 col-xl-3 d-none d-md-block">
                            <div class="sticky"><div id="toc" class="book-toc">
                                <p>Table of Contents</p>
                                <ul class="list-unstyled">
                                    <li><a href='#morethanblocks'>More Than Blocks</a></li><li><a href='#commonentities'>Common Entities</a></li><li><a href='#advancedentityguide'>Advanced Entity Guide</a></li><li><a href='#savingcustomdata'>Saving Custom Data</a></li><li><a href='#thedatamigration'>The Data Migration</a></li><li><a href='#datamigrationhelpermethods'>Data Migration Helper Methods</a></li>
                                </ul>
                            </div></div>
                        </aside>
                    </div>
                </div>
            </div>

            

			</div>       

        <script>var bookVersionOrder = [ '1.0.0' ];</script>

        <script>
            $(document).ready(function () {
                $(".sticky").stick_in_parent();

                $(".bookversion-heading-tab").on("click", function () {
                    $(this).closest(".bookversion-heading").siblings(".bookversion-details").slideToggle();
                    $(this).find('i.fa').toggleClass("fa-chevron-down fa-chevron-up");
                });

                $(".report-issue").mouseenter(
                    function () {
                        $(".report-issue").stop().animate({
                            right: "-4px",
                            opacity: 1
                        }, 500, function() {
                            // Animation complete.
                        });
                });

                $(".report-issue").mouseleave(
                    function () {
                        $(".report-issue").stop().animate({
                            right: "-84px",
                            opacity: .5
                        }, 500, function () {
                            // Animation complete.
                        });
                });

                $(function () {
                    $("a.book-image").fluidbox();
                });

                // reusable function to get query parameter
                function getParameterByName(name) {
                    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                        results = regex.exec(location.search);
                    return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
                }

                var scrollPercent = getParameterByName('ScrollPercentage');
                if (scrollPercent != '') {
                    var bheight = $(document).height();
                    var percent = scrollPercent / 100;
                    var hpercent = bheight * percent;
                    $('html, body').animate({ scrollTop: hpercent }, 1000);
                }

                // highlight changes
                $(".js-bookversion-versionsinceselector").on('change', function () {
                    
                    var selectedVersion = $(this).val();

                    if (selectedVersion == '') {
                        // clear all update highlights and summaries
                        $("div[data-type='update-summary']").slideUp();
                        $("[data-update-tag]").removeClass('show-update');
                    } else  {
                        var showVersion = true;

                        bookVersionOrder.forEach(function (version) {
                            console.log(version);

                            if (version == selectedVersion) {
                                showVersion = false;
                            }

                            if (showVersion) {
                                $("[data-type='update-summary'][data-update-tag='" + version + "']").slideDown();
                                $("[data-update-tag*='" + version + "']").addClass('show-update');
                            } else {
                                $("[data-type='update-summary'][data-update-tag='" + version + "']").slideUp();
                                $("[data-update-tag*='" + version + "']").removeClass('show-update');
                            }
                        });

                    }; 
                });

            });
        </script>

    
		</div>

	</div>
</div></div></div>

          </div></main>
          <!-- / content -->
        </div>
      </div>

        
        <input type="hidden" name="ctl00$sManager" id="sManager" />
<script type="text/javascript">
//<![CDATA[
Sys.Application.setServerId("sManager", "ctl00$sManager");
Sys.Application._enableHistoryInScriptManager();
//]]>
</script>

        <div id="updateProgress" style="display:none;">
	
		            <div class="updateprogress-status">
                        <div class="spinner">
                          <div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div>
                        </div>
                    </div>
                    <div class="updateprogress-bg modal-backdrop"></div>
		        
</div>

    <div id="ctl14" style="display:none">
	<input type="submit" name="ctl00$rock-config-trigger" value="" id="rock-config-trigger" /><input type="hidden" name="ctl00$rock-config-trigger-data" id="rock-config-trigger-data" />
</div><div id="modal-popup" class="modal container modal-content rock-modal rock-modal-frame">
	<div id="modal-popup_contentPanel" class="iframe">
		<iframe id="modal-popup_iframe" scrolling="no" style="height:auto;"></iframe>
	</div>
</div>

<script type="text/javascript">
//<![CDATA[

Rock.settings.initialize({
    siteId: 17,
    layoutId: 149,
    pageId: 1336,
    layout: 'Documentation',
    baseUrl: '/'
});
Sys.Application.add_load(function () {
const getCookieValue = (name) => {
    return document.cookie.match('(^|;)\\s*' + name + '\\s*=\\s*([^;]+)')?.pop() || '';
};
var interactionArgs = {"PageId":1336,"ActionName":"View","BrowserSessionGuid":"056045fc-2697-43bb-a6c8-ee3d8e0eb446","PageRequestUrl":"https://community.rockrms.com/developer/book/17/17/content","PageRequestDateTime":"2023-08-03T11:03:21.8853128","PageRequestTimeToServe":0.1234888,"UserAgent":"axios/1.4.0","UserHostAddress":"147.243.240.117","UrlReferrerHostAddress":null,"UrlReferrerSearchTerms":null,"UserIdKey":null};
if (!interactionArgs.UserIdKey) {
    interactionArgs.UserIdKey = getCookieValue('.ROCK_VISITOR_KEY');
}
$.ajax({
    url: '/api/Interactions/RegisterPageInteraction',
    type: 'POST',
    data: interactionArgs
    });
});
//]]>
</script>
</form>
</body>
</html>